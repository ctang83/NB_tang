<<<<<<< HEAD
[["index.html", "My Notebook Chapter 1 Intro 1.1 2022 1.2 2010-2012", " My Notebook CTang 2022-02-08 Chapter 1 Intro This notebook covers my daily skills learning. 1.1 2022 1.1.1 Feb Debug: RStudio couldnt work well if R libraries are synchronized, Im considering transfer the platform to RStudio Cloud, like Deepnote-Python 1.1.2 Jan  Do I need to apply for ethics approval? In cases where data are collected for the purpose other than research, you might not need to submit an ethics application. This might be the case if your project falls into one of the following categories of data collection or use: Archival data, if it is from a public domain Please note, you will have to apply for ethics approval if the information you intend to use is identified personal information (states or implies identity), not in a public domain or if you will collect data in addition to the archival research. Administrative data collection Collection of data from staff or other stakeholders for the purposes of informing or improving a process within your organisation is not considered research. Still, if you later decide to use this data for research purposes, you will need to apply for ethics approval. In addition, the use of identified data always requires ethics approval. Teaching and learning If you collect human data solely for teaching or learning purposes and do not expect to publish or present any data, no ethics application is necessary. However, if you think the project may be published, it is recommended that you apply for ethics approval before running the project, as this is easier than getting approval subsequently. Quality assurance or clinical audit Usually data collected for quality assurance purposes or an audit, does not require ethical review, if it is for your organisations own information. However, if information is to be taken outside the organisation and used for a published paper, research project etc, this is considered research and requires ethical review. Negligible risk research involving collections of non-identifiable data Your research involves negligible risk if you use existing non-identifiable data or records or if it does not involve any foreseeable risk of harm or discomfort, which means there must not be the possibility of anything more than inconvenience. Although in this case you are not required to apply for ethics approval, you will probably need to complete a form to confirm that the project is of negligible risk, and provide a letter (or similar evidence of approval) from the person in charge of the data. 1.2 2010-2012 1.2.1 825 2012 2012-08-09  Win episcope  error bar chart 84-91-205 Approximately=a number of=some  me 0404142385 bao 0404151559 PassPort: G55112399 1/28 FORSYTH STREET, Kingsford, NSW, 2032 2816 chengxiang Essays on Physicians Choice Changes in drug utilization following the outpatient prescription drug cost-sharing programevidence from Chinas Win episcope  error bar chart 84-91-205 Approximately=a number of=some bao 0404151559 PassPort: G55112399  1/28 FORSYTH STREET, Kingsford, NSW, 2032 13540617813 LCAmodelschoice model, class membership model R BayesLCAlatent class model White, A. and T. B. Murphy, et al. (2014). BayesLCA: An R Package for Bayesian Latent Class Analysis. Journal of Statistical Software 61 (13). air quality improvement, latent class, preference heterogeneity: prefer status quo, prefer change?? One observable determinant of this preference heterogeneity is the exposure of individuals to health risks relating to air quality   925452379636 how to divide classes in public and private hospital study: public-oriented, non-public-oriented patients DCE topics: organ transplant, blood transfusion, drunk driving, weather and agriculture outcome health &amp; policy focus on health shock + regression discontinuity labor focus on tournament theory 3 the health and health expenditure impacts of prostitution regulation in aus http://en.wikipedia.org/wiki/Prostitution_in_Australia http://en.wikipedia.org/wiki/Prostitution_and_the_law#Victimhood_issues      Bernoulli  u(x)=X^1/2 g=(1/216, 1/24)  Certainty Equivalent: c(1/2)=1/216^(1/2)+1/24(1/2)c=9; Probablility Premium:(1/2+x)(10+6)(1/2)+(1/2-x)(10-6)(1/2)=(10)^(1/2)x=[10^(1/2)-3]/2,probability premium,10.  : CLOSED FORM SOLUTION , ()  G Bloom, T Evens, W Hsiao, . ,,. :,,,,.,,.,,,,. ,,,,.,,,,.,.. ,,,,,,. ()  http://www.sciencedirect.com/science/article/pii/S016885101100114X Human Capital http://www.nber.org/papers/w17474.pdf distance http://www.nber.org/papers/w17471.pdf we own more knowledge, but use less   Defenders of the new law invariably ignore the supply side of the market. They assume that if you insure the uninsured or give people more generous coverage that they will all get more health care without ever asking: who is going to provide that extra care? Purports to control total spending on physician services, but it controls only prices, even though spending is the product of the price and the number and intensity of services. Weve seen that diagnostic imaging costs more in the U.S than elsewhere, but what about physician fees? This is arguably the most subjective part of the health care system. For example, do some countries value their physicians more than others? What about the emphasis on primary care versus the various specialties?  health care price physician specialization price regulation medical profession specialization regulation primary care physician specialization health economics labor division topics in medical economics specialization division of labor physician division of labor physician specialization physician fees Physicians can sell prescriptions directly to patients. Unsurprisingly, Japan has the highest consumption rate of pharmaceuticals per capita in the world. ,., ,.,,,..,,,, FDA(Generic Drugs)(brand-name drugs)(OTC) Approved Drugs * How is medicine approved by FDA? * How can I find out if my medicine is approved by FDA? Side Effects * How can I find out about side effects or safety concerns for my drug? * Do drugs have risks? * How do I report a suspected drug side effect Treatments for Medical Problems * What approved drugs are available to treat my disease? * Since FDA cannot provide information about drugs in development, where can I go to learn more about them? Generic Drugs * What are generic drugs? * Is there a generic equivalent for my brand-name drug? * Are generic drugs as effective as brand-name drugs? Prescription Drugs and Over-the-Counter (OTC) Drugs * What is the difference between prescription drugs and OTC drugs? Dietary Supplements * What is a dietary supplement? * Where can I find information about dietary supplements?   SPD Modern prescriptions evolved with the separation of the role of the pharmacists from that of the physician  GP-physiciandoctor-pharmacist messy Du lipingProfessional Code or Legal Sanctions: Pharmacy in ChinaKremers and Urdangs History of pharmacy By Edward Kremers, Glenn Sonnedecker  GP-physiciandoctor-pharmacist fixed price system  Follandversion6338physicianphysicianmedical professions  ·       Gary S. Becker  There are 6 features which contribute to the benefits on a popoulations health, associated with primary care. (Starfield et al., 2005) These benefits are improved access to services, improved quality of care, more emphasis on prevention, early management of health problems, combined effect of primary care delivery characteristics and the role of primary care in reducing unnecessary and potentially harmful specialist care. (Starfield et al., 2005) General practice was first introduced into parts of urban China in 1999. (Liu, 2005) CHC was introduced in 1998. (Pan et al., 2006) a major determinant of a patients satisfaction with care provided is their initial expectations, which can be shaped by a number of variables, including socio-demographic and socioeconomic factors, past experience, needs, and word-of-mouth influence. (Tam, 2007)Recently research seeking to understand patients perspectives has moved from asking about patient satisfaction, which can be difficult to interpret to enquiring about patient experiences with healthcare. (Davies and Cleary, 2005) The John Hopkins PCATs four main domains assess the structure and process of primary care service provision The John Hopkins Primary Care Assessment Tool was selected for use to assess patients experience of quality. Measuring patient experience of quality rather than patient satisfaction was a key feature when choosing the research instrument, given increasing dissatisfaction with measuring patient satisfaction, due to difficulty in interpreting patient satisfaction results. (Berendsen et al., 2009; Davies and Cleary, 2005) As part of the calculation of sub domain scores a score of 9 - not sure, was converted to a score of 2.5 for all sub-domains, except comprehensiveness, where a score of 9-not sure was converted to 0. Instead, during the interviews the research assistant conducted the interview and the translator translated the main points of the interview as the interview was ongoing. This allowed the opportunity to ask some questions as the interview progressed. Roziextent of affiliation ongoing care 6PCPz5 gp  rgp4JAMA rozi 1 2UKGP 3CHC3-4Rhealth records 120 FDAwhich determines effectiveness of a drug regardless of cost NICEwhich determines not only whether a drug is effective, but whether these health improvements are worthwhile considering the drugs cost.   8500   EBSCOOVIDProQuest ElsevierScienceSpringerJohn Wiley --Dialog OCLC FirstSearchScopus EBSCO paper  essaypaperpaper 1.2.2 2011524  Visa/Passport information  whenever  Proof of English Ability  Notarised/Certified Transcript  Details of previous research  Sponsorship Letter You must download the Sponsor Contract Form, which must be completed and submitted to the relevant Admissions Office.    Research Plan  Proof of contact with supvsr   Curriculum Vitae 1.visa~  2.  Sponsorship Letter Will you be sponsored by an Official UNSW Sponsor ?NOyes ucf offer 1  2  3  4  5  Rice  offerfunding 20000GTA+5000summer fellowship,  3000  offeroffer20000 2. 3PHD coordinator, positiveoffer, negtive   4 5 6 7 letters of recommendation should address your potential as a scholar based on their experience with you as a student, research assistant, or teaching assistant. Non-Service ScholarshipService AssistantshipFellowshipScholarshipTuition &amp; Fee WaiverAwards 1FellowshipFellowship 2ScholarshipScholarshipScholarshipFellowshipScholarshipScholarship 3Tuition &amp; Fee WaiverScholarships, Teaching AssistantshipTAResearch AssistantshipRAOn-Campus JobTA/RA12-2023TA/RA (On-Campus Job)5.152040 1.2.3 201010 UGA HPM PhD        1 2 3 50      ,  Philosophy of economics, economic methodology, history of economics, relation of economics to social values, social economics, ethics and economics, health economics, international economics. Philosophy and Methodology of Economics, History of Economics, International Economics, Ethics and Economics, Health Economics. -EMS-155, 6 DHL-  951-2 + 86 (591) 87321111 350007  800-810-8000 GRE NO.2, ,, -ive GRE  1.2.4 825   Win episcope (universally true, but not obvious)  10.100.246.38 / 254 10.46.2.16 263 My confirmation number is 8850000000499691. REGISTRATION NUMBER: 6610367 confirmation  1.85+1.45 --- 1.2.5 627 1 2 3PS the most important character trait in research is not intelligence, but self-disciplin. So, if you want prove that you have potential, prove that you have the fortitude to take on the system 217-4184643  Food Science and Engineering Food Sci &amp; Engineering Business Administration Social Medicine &amp; Health Administration 09/01/2002 09/01/2004 06/30/2006 baccalaureate degree Fujian Medical University 09/01/2008 06/30/2011 Lieping Chen clpqsc@126.com Fujian Medical University 0086-13763834045 Weiguang Zhang zwguang@swu.edu.cn Southwest University College of Food Science 13983485159 Rosalind McCollum Concern Worldwide rosalind.mccollum@concern.net Ireland Chongqing Southwest University Attended From 09/01/2002 To 06/30/2006 Degree Bachelor of Engineering Received 06/30/2006 Southwest University Attended From 09/01/2004 To 06/30/2006 Degree Bachelor of Business Administration Received 06/30/2006  Advanced Mathematics-2002, Probability Theory-2003, Linear Algebra-2003, Microeconomics-2004, Macroeconomics-2004, Medical Statistics-2008, Health Economic-2009 VB Programming(2004) 5187 0000 EMORY U GRAD SCH 2074 1903 CARNEGIE MELLON UNIVERSITY PUBLIC POLICY STUDIES 1565 0000 NORTHWESTERN UNIVERSITY 5816 0616 U NORTH CAROLINA CHAPEL HILL PUBLIC HEALTH  Chengxiang Tang MHA. Candidate School of Public Health, Fujian Medical University 88 Jiaotong Road, Fuzhou, Fujian, 350004, PRC Cell: 860591-13705914418 Email: tang.chengxiang@gmail.com primary care, provider, rual area, Health Manpower ManagementMerged with Journal of Management in Medicine in 1999 key words human resources for health  heath human resources  health workforce health staff health manpower 90 Health Personnel Personnel &amp; human resources management Personnel management "],["bat-excelword-lyxlatex.html", "Chapter 2 bat, Excel/Word, Lyx/Latex 2.1 bat 2.2 Excel/Word 2.3 Lyx/Latex", " Chapter 2 bat, Excel/Word, Lyx/Latex 2.1 bat A batch file() is a script file(.bat) in DOS, OS/2 and Microsoft Windows. It consists of a series of commands to be executed by the command-line interpreter, stored in a plain text file. build a new project project D:_buildfolder.bat  SET log=.\\output\\rundirectory.log :: Clear output and externals DEL /F /Q .\\output\\ :: delrd. rd Filemon ::  /q /s :: filemonbat RMDIR .\\external /S /Q MKDIR .\\external :: Log start ECHO rundirectory.bat started &gt; %log% ECHO %DATE% &gt;&gt; %log% ECHO %TIME% &gt;&gt; %log% DIR .\\output\\ &gt;&gt; %log% :: Get externals SET rev=4 SET svnpath=https://booth.svn.cloudforge.com/svndemo/trunk/ SVN export &quot;%svnpath%/analysis/output/regressions.tex@%rev%&quot; &quot;./external/regressions.tex&quot; --force -r%rev% &gt;&gt; %log% SVN export &quot;%svnpath%/raw/data/potato.dta@%rev%&quot; &quot;../external/potato.dta&quot; --force -r%rev% &gt;&gt; %log% SVN export &quot;%svnpath%/raw/data/tv.dta@%rev%&quot; &quot;../external/tv.dta&quot; --force -r%rev% &gt;&gt; %log% :: Compile the paper PDFLATEX .\\source\\tv_potato_submission.tex -output-directory=.\\output\\ &gt;&gt; %log% :: Delete auxiliary files DEL .\\output\\tv_potato_submission.aux .\\output\\tv_potato_submission.log :: Merge files, clean resulting data set &quot;D:\\stata13_SE_unsw\\StataSE-64&quot; /e do mergefiles.do &quot;D:\\stata13_SE_unsw\\StataSE-64&quot; /e do cleandata.do :: Run regressions &quot;D:\\stata13_SE_unsw\\StataSE-64&quot; /e do &quot;D:\\svndemo\\branches\\analysis (alternative regressions)\\code\\regressions.do&quot; :: Append log files COPY %LOG% + regressions.log %LOG% DEL regressions.log :: Log end ECHO rundirectory.bat completed &gt;&gt; %log% ECHO %DATE% &gt;&gt; %log% ECHO %TIME% &gt;&gt; %log% bat ren aaa.txt bbb.doc :: aaa.txt  bbb.doc ren [Drive:][Path] filename1 filename2 cd.dllwindows copy cd.dll %windir%  start explorer D:and Inst  start D:_SE_unsw-64.exe D:and Inst\\0prog_IFRS.do -noteexpress start  D:.nel  start  D:\\03090561111137697.pdf ::pdf 2.2 Excel/Word Excelword, : WORD *0 ^? ^# ^$ ^&amp;   [!1-127]  =RANDBETWEEN(0,1) //01binary =round(rand()2 //0-1 excel alt+ excel,   =SUM(1/COUNTIF(D2:D477,D2:D477))  ctrl+shift+enter  excel   alt+F11VBE Sub 4() Do While ActiveCell &lt;&gt; &quot;&quot; ActiveCell.Offset(1, 0).Resize(4, 1).EntireRow.Insert shift:=xldowm ActiveCell.Offset(5, 0).Select Loop End Sub Alt+QExcel, Alt+F8 ; (4,1)(5,0) [!1-127] 200908052009 08 05 =REPLACE(REPLACE(A1,5,, ),8,, ) =TEXT(A1,0000 00 00) EXCEL- yyyy-mm excel1919xx19 excel-  Excel&amp;  ABS   AND TRUETRUE  FALSE  AVERAGE   COLUMN   CONCATENATE   COUNTIF   DATE   DATEDIF   DAY  DCOUNT   FREQUENCY   IF   INDEX   INT   ISERROR TRUEFALSE  LEFT   Left(A1, 2) LEN   MATCH   MAX   MID   MIN   MOD   MONTH   NOW   OR FALSEFALSETRUE  RANK   RIGHT   SUBTOTAL   SUM   SUMIF   TEXT   TODAY   VALUE   VLOOKUP   WEEKDAY   2.3 Lyx/Latex 2.3.1 Lyx Lyxarticle settingDocument ClassClass OptionsCustomUTF8ctex, encodingUnicode(XeTeX) (utf8) Lyx ctrl+D or ctrl+R LaTeX PreambleLaTeX  \\usepackage{xeCJK} \\setCJKmainfont{SimSun} View&gt;View[pdf(XeTeX)]ctrl+R article:  File &gt; New   Document&gt; Settings Document class CTeX CTeX Language Chinese (simplefied)Encoding  Unicode (XeTeX) (utf8) LyX XeTeXxeCJK outputDefault output format  PDF (XeTeX)XeTeXLyX PDF 2.3.2 Latex pdfpages \\includepdf\\includepdfset{pagecommand={}}include  \\(-\\) % \\item \\item[] %  pdf \\begin{figure}[htbp!] \\centering \\includegraphics[width=12cm]{./output/Pat_see_Doc_on_expected_profit.pdf}\\\\ \\caption{Patients&#39; decision to see Doctor (get diagnosis) on expected profit} \\label{fig2} \\end{figure} latex  \\usepackage[inline]{trackchanges}  \\addeditor{Tang}; latex \\note[Marian]{.} latex-caption- ^,  \\textsuperscript{1} latexoutput \\input{./output/filename.tex} : \\(\\theta\\) or $\\theta$ online latex: sharelatex .vs. writelatex writelatex google account,  bib, &amp; ,  \\&amp;, e.g. Journal of Economic Behavior \\&amp; Organization  \\label \\caption  ,  latex \\input{} new page \\include{} new page pdf \\usepackage{pdfpages} \\includepdf[pages=-]{myfile.pdf} latex \\documentclass[a4paper] {article} \\usepackage{booktabs} % \\toprule \\usepackage{multirow} %  \\usepackage{array} % cell width \\usepackage{pdflscape} % \\begin{landscape} \\usepackage{longtable} \\usepackage{caption} % longtable caption center latex \\toprule % \\hline \\midrule \\cmidrule{2-9} % 2-9columns \\bottomrule %-- \\hline %hline \\chline{2-9} latexcells latexcells \\multicolumn{1}{l}{} \\multicolumn{&#39;num_cols&#39;}{&#39;alignment&#39;}{&#39;contents&#39;} \\multicolumn{1}{p{2cm}}{CL} % p{} \\multirow{&#39;&#39;num_rows&#39;&#39;}{&#39;&#39;width&#39;&#39;}{&#39;&#39;contents&#39;&#39;} \\multirow{2}{2cm}{CL} %  latexcells- \\hspace{5cm} latexcells  $^1$ latexcells _  \\_ latexcells &gt;  \\textgreater latexcells &lt;  \\textless latexcells =  1, : ``AAAA  caption{} \\label{ch:xx} % ch=chapter chapterPhD Figure \\ref{ch:xxx}  wordnoteexpress\\cite{xxx} \\newpage \\nocite{CurrieRossin-1756, AlmondCurrie-1194, CurrieStabile} %NoteExpress \\bibliographystyle{alpha} %reference \\bibliography{fluo.bib} %BibtexNoteExpress citation: \\usepackage{natbib}  http://www.reed.edu/cis/Help/LaTex/images/natbibA-Ncitations.png  (\\citet*{}, \\citep*{} ) \\citet{} % text  \\citep{} %  (Lim and Yang et al., 2004; Tang and Zhang et al., 2014)  \\textit{}  {\\it xxxx}  \\textbf{}  {\\bf xxxx}  \\underline{}  \\usepackage{setspace} \\begin{spacing}{2.0} \\end{spacing}  \\begin{align*} &amp; equation 1 \\\\ &amp; equation 2 end{align*} \\begin{equation} \\label{eq:erl} a = bq + r \\end{equation} where \\eqref{eq:erl} is true if $a$ and $b$ are integers with $b \\neq c$. 3: 1. %; 2.  \\iffalse .... \\fi ; 3.  \\begin{comment} ... \\end{comment} -- \\usepackage{verbatim}. $&gt;$  $\\vert$  latex + dvipdfmx epspdfpngjpg   \\tiny \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge  \\hspace{1cm}  \\vspace{1cm} quad a \\qquad b m quad a \\quad b m  a\\ b 1/3m  a\\;b 2/7m  a\\,b 1/6m  ab  a\\!b 1/6m Q: Beamerpdflatexepsepspdfbeamereps A: epsbeamerdvi-ps-pdf texTexify,dvi dvi2psps ps2pdfpdf "],["r_onlinebookdashboard.html", "Chapter 3 R_Onlinebook/Dashboard 3.1 Online data collection/transfer 3.2 Building online book(Bookdown) 3.3 Building single page(robobook) 3.4 Building Dashboard(Flexboard) 3.5 Building website wt multi-pages(Blogdown)", " Chapter 3 R_Onlinebook/Dashboard 3.1 Online data collection/transfer Ideally, or the perfect situation, is that we collect and summarise data from internet, clean data, analyse data, and present outcomes online. Data infrastructure of Australia library(aurin) is Australias single largest resource for accessing clean, integrated, spatially enabled and research-ready data on issues surrounding health and wellbeing, socio-economic metrics, transportation, and land-use. This package provides functions to download and search datasets from the AURIN API (its free to use!). There is an example in aurin website showing access data, obtain data through this API. R rvest: Easily Harvest (Scrape) Web Pages   RRCurlXML pythonrequestsBeautifulSoup R Rfacebook: facebook XML(eXtensible Markup Language), , ,  3.2 Building online book(Bookdown) This tutorial will show us easiest way to build an online book (or a book-style website) through RStudio and GitHub (may also by bookdown.org). Well call this book BB. 1) Start on local computer Copy folder D:_template(this version is from Jules32, much easier than Yihuis bookdown-demo) to a reasonable place Rename 2 things from bookdown_template to BB: the folder itself the .Rproj file Double-click the .Rproj file to launch RStudio Click on the Build tab in the top right pane to build book 2) Create BB GitHub repo Go to your GitHub account: github.com/username Click on Repositories, and the green button New to create a new repo Name this new repo BB (DO NOT initialize this repo with a README) Click the green create repository button, then copy URL 3) Turn bookdown_template into BB Go back to RStudio, see your BB project In the Console, type usethis::use_git() and say Yes to the two prompts. This will restart R and give you a new Git tab in the upper right pane. Now, click on the Terminal tab next to the Console tab. Type git remote add origin URL Type git push --set-upstream origin master (this sentence upload files) 4) Publish BB (Last step) Refresh github, then files should be there! Click Settings Scroll down to GitHub Pages, click Check it out here Change the Source pulldown from None to master branch /docs folder It should say Your site is ready to be published at https://username.github.io/BB/ 5) Update online book in Github Rstudio to build(knitr) the whole book, including all .Rmd files In Build panel, click Build Book or in Console, type rmarkdown::render_site(encoding = 'UTF-8') In Git panel, select all files, click Commit, appears a new window Input XX changes, click Commit Finally, click Push -&gt; Done! PS: we ignore Travis and related continuous integration() here, actually now Yihui uses Makefile and _render.R instead. 6) Adding chapters(.Rmd) and citations Build a new .Rmd file, name it and begin writing. As Index.Rmd is always the first chapter, we start ordering from 02-xx. For citations, 3.3 Building single page(robobook) In above chapter Building online book(Bookdown), multiple *.Rmd and .md files, along with a site YAML file(vs. YAML header), as input, a multipage website or book with internal navigation as output. (This is how the course web pages are constructed.) If we dont need a book structure, but a single page with a structured-table(especially good for a report). We use 1) YAML header and 2) first code chunk in a single .Rmd, with outputing a single HTML. The template robobook is great for reading. --- title: &quot;&quot; date: &quot;2022-02-08&quot; #outputmultiple .Rmd files_output.yml # bookdown::gitbook:  rmdformats::robobook: output: rmdformats::robobook: code_folding: show self_contained: true default_style: &quot;light&quot; downcute_theme: &quot;default&quot; --- #```{r setup, include=FALSE} #First code chunk setting global options #knitr::opts_chunk$set(cache = TRUE) #``` PS: Rmd has many excellent templates: rticles(journal papers), prettydoc(html), rmdformats(online book, e.g. robobook style), tufte How to insert figures? For my notebook, all figures are saved in folder /NB_tang/figs. Using codes below: ![First code chunk](figs/fig_codechunk_opt.jpg){width=100%} First code chunk 3.4 Building Dashboard(Flexboard) some definitions Rmarkdown aims to develop your code and ideas in a reproducible document Shiny package aims building interactive web applications File -&gt; New File -&gt; Shiny uses .R file Flexdashboard package aims building interactive dashboards using Rmarkdown flexdashboardBookdownsingle page, topic flexdashboardsingle .Rmd(===panel, column, ###box) .RmdYAML header + first code chunk flexdashboard_site.yml as a simple site generator(rmarkdown, blogdownthird-party site generator like Hugo) This tutorial shows us how to build an online dashboard, using flexdashboard, with RStudio and GitHub. We call this project BB. 1) Start on local computer Copy folder D:_template to a reasonable place Rename 2 things from flexdashboard_template to BB: the folder itself the .Rproj file the _site.yml -&gt; name(website) Double-click the .Rproj file to launch RStudio Click on Knit to build website .html 2) Create BB GitHub repo(see Building online book) 3) Turn bookdown_template into BB(see Building online book) 4) Publish BB (Last step) 3.5 Building website wt multi-pages(Blogdown) Blogdown use the third-party site generator, Hugo. 1) Start on local computer Copy folder D: to a reasonable place "],["rstata_stated-preference.html", "Chapter 4 R/Stata_Stated Preference 4.1 Latent Class() 4.2 Binary DCE(used as Case 2 BWS) 4.3 case 1 BWS", " Chapter 4 R/Stata_Stated Preference Install.packages(logitr) This package can estimate MNL and MXL, derive WTPs from Preference space and WTP space. For details, see random utility model in two spaces Install.packages(mixl) This R package for estimating complex choice models (MXL) on large datasets How to refer to a variable name with spaces? : backticks `(), : RES ~Indirect payment+Direct payment+strata~ R 4.1 Latent Class() Install.packages(BayesLCA) An R package for bayesian latent class analysis : Three methods for fitting the model are provided, incorporating an expectation-maximization (EM) algorithm, Gibbs sampling and a variational Bayes approximation. 4.2 Binary DCE(used as Case 2 BWS) 3.4.3 Organ donation - Binary DCE(Lma method) BDCE Case 2 BWS Stata, R, DCEmed(medR) rsource, terminator(END_R) library(survival) library(stats) library(support.CEs) library(foreign) # for Stata dataset output % DCEattrs-levels med &lt;- Lma.design( attribute.names = list( consent = c(&quot;implicit&quot;, &quot;active&quot;), final = c(&quot;no&quot;, &quot;yes&quot;), reg = c(&quot;various&quot;,&quot;unique&quot;), quit = c(&quot;never&quot;, &quot;ask&quot;), death = c(&quot;brain&quot;,&quot;other&quot;), priority = c(&quot;no&quot;,&quot;yes&quot;), acknow = c(&quot;no&quot;,&quot;yes&quot;), payment = c(&quot;0&quot;,&quot;1w&quot;,&quot;2w&quot;,&quot;3w&quot;) ), nalternatives = 1, # create design for a BDCE nblocks = 4, row.renames = FALSE, seed = 987) % meddes36x1118choice set36alternatives(observations), % 11(2*5+1,51)alternative attributes(med) head(med) questionnaire(choice.experiment.design = med ) data&lt;-as.data.frame(med$alternatives$alt.1) # medlist, alt.1attributes write.dta(data,&quot;d:/test.dta&quot;) # BDCE attributes q() END_R use d:\\test.dta , clear 3.4.3  Binary DCE(Lma method) BDCE case 2 BWS rsource, terminator(END_R) library(survival) library(stats) library(support.CEs) library(foreign) # for Stata dataset output ################## questionnaire ############################# med &lt;- Lma.design( attribute.names = list(Place = c(&quot;Urban&quot;, &quot;Rural&quot;), Facility = c(&quot;Hospital&quot;, &quot;CHC&quot;), Mgment = c(&quot;Fsuppot&quot;, &quot;Psuppot&quot;), Material = c(&quot;Fully&quot;, &quot;Poorly&quot;), Style = c(&quot;Required&quot;, &quot;Not&quot;), Career = c(&quot;Sufficient&quot;, &quot;Limited&quot;), Income = c(&quot;2000&quot;, &quot;4000&quot;, &quot;6000&quot;, &quot;8000&quot;)), nalternatives = 1, # create design for a BDCE nblocks = 2, row.renames = FALSE, seed = 987) questionnaire(choice.experiment.design = med ) as.data.frame(med$alternatives$alt.1) # medlist, alt.1attributes % PS: 2 blocks, 16 questions in total, thus each one answer 9 questions (including one consistent test) ################## design matrix -- dm.med ############################# - Because from the above questionnaire, we can create two types of BDCE: - 1) No opt-out but include common alternative; - 2) Opt-out but no common alternative. # Here in DCE_med_spe, we choose 2). dm.med &lt;- make.design.matrix( choice.experiment.design = med, optout = TRUE, # include opt-out option categorical.attributes = c(&quot;Place&quot;, &quot;Facility&quot;, &quot;Mgment&quot;, &quot;Material&quot;, &quot;Style&quot;, &quot;Career&quot; ), continuous.attributes = c(&quot;Income&quot;), unlabeled = TRUE, # unlabeled design common = NULL, # do not include common alternative binary = TRUE) # BDCEs ################## Datasets combine: final = res + dm.med ############################# data(res) # Input respondent dataset (clean the consistent test question before input) /* res ID BLOCK q1 q2 q3 q4 1 1 1 1 1 0 0 2 2 2 1 0 0 1 3 3 3 1 0 0 1 4 4 4 0 1 0 0 5 5 1 0 1 0 0 6 6 2 1 1 0 1 */ final &lt;- make.dataset( respondent.dataset = res, # respondent dataset design.matrix = dm.med, # design matrix choice.indicators = c(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;, &quot;q6&quot;, &quot;q7&quot;, &quot;q8&quot;), detail = FALSE) write.dta(final,&quot;d:/test.dta&quot;) # BDCE attributes ################## Analysis #############################  END_R 3.4.3  BDCE , Lma method, BDCE case 2 BWS rsource, terminator(END_R) library(survival) library(stats) library(support.CEs) library(foreign) # for Stata dataset output ################## questionnaire ############################# med &lt;- Lma.design(attribute.names = list( Place = c(&quot;Urban&quot;, &quot;Rural&quot;), Facility = c(&quot;Hospital&quot;, &quot;CHC&quot;), Mgment = c(&quot;Fsuppot&quot;, &quot;Psuppot&quot;), Material = c(&quot;Fully&quot;, &quot;Poorly&quot;), Career = c(&quot;Sufficient&quot;, &quot;Limited&quot;), Job = c(&quot;Matched&quot;, &quot;Nonmatched&quot;), Patient = c(&quot;Good&quot;, &quot;Fair&quot;), Income = c(&quot;2000&quot;, &quot;4000&quot;, &quot;6000&quot;, &quot;8000&quot;)), nalternatives = 1, # create design for a BDCE nblocks = 2, row.renames = FALSE, seed = 987) questionnaire(choice.experiment.design = med ) as.data.frame(med$alternatives$alt.1) # medlist, alt.1attributes # PS: 2 blocks, 16 questions in total, thus each one answer 9 questions (including one consistent test) ################## Matched design matrix -- dm.med ############################# # Because from the above questionnaire, we can create two types of BDCE: 1) No opt-out but include common alternative; # 2) Opt-out but no common alternative. Here in DCE_med_spe, we choose 2). dm.med &lt;- make.design.matrix( choice.experiment.design = med, optout = TRUE, # include opt-out option categorical.attributes = c(&quot;Place&quot;, &quot;Facility&quot;, &quot;Mgment&quot;, &quot;Material&quot;, &quot;Career&quot;, &quot;Job&quot;, &quot;Patient&quot;), continuous.attributes = c(&quot;Income&quot;), unlabeled = TRUE, # unlabeled design common = NULL, # do not include common alternative binary = TRUE) # BDCEs ################## Datasets combine: ds.med = medspe + dm.med ############################# data(medspe) # Input respondent dataset (clear the consistent test question before input) ds.med &lt;- make.dataset( respondent.dataset = medspe, # respondent dataset design.matrix = dm.med, # design matrix choice.indicators = c(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;, &quot;q6&quot;, &quot;q7&quot;, &quot;q8&quot;), detail = FALSE) head(ds.rural1) # list head of the final dataset ################## Analysis  ############################# fm.rural &lt;- RES ~ Agr + Env + Rec + Area + Tax out.rural1 &lt;- glm(fm.rural, # is glm() the clogit in Stata ? family = binomial(link = &quot;logit&quot;), data = ds.rural1) summary(out.rural1) gofm(out.rural1) out.rural2 &lt;- glm(fm.rural, family = binomial(link = &quot;logit&quot;), data = ds.rural2) summary(out.rural2) gofm(out.rural2) mwtp.rural1 &lt;- mwtp(output = out.rural1, monetary.variables = c(&quot;Tax&quot;), nonmonetary.variables = c(&quot;Agr&quot;, &quot;Env&quot;, &quot;Rec&quot;, &quot;Area&quot;), nreplications = 1000, confidence.level = 0.95, method = &quot;kr&quot;, seed = 987) mwtp.rural1 mwtp.rural2 &lt;- mwtp(output = out.rural2, monetary.variables = c(&quot;Tax&quot;), nonmonetary.variables = c(&quot;Agr&quot;, &quot;Env&quot;, &quot;Rec&quot;, &quot;Area&quot;), nreplications = 1000, confidence.level = 0.95, method = &quot;kr&quot;, seed = 987) mwtp.rural2 str(mwtp.rural1$mwtps) MWTP_Rec1 &lt;- mwtp.rural1$mwtps[, &quot;Rec&quot;] MWTP_Rec2 &lt;- mwtp.rural2$mwtps[, &quot;Rec&quot;] mded.rec &lt;- mded(distr1 = MWTP_Rec1, distr2 = MWTP_Rec2, detail = TRUE) mded.rec par(mfrow = c(1, 2)) # not shown in SPMUR hist(mded.rec$diff, main = &quot;(a) Rec&quot;, xlab = &quot;Difference&quot;) MWTP_Area1 &lt;- mwtp.rural1$mwtps[, &quot;Area&quot;] MWTP_Area2 &lt;- mwtp.rural2$mwtps[, &quot;Area&quot;] mded.area &lt;- mded(distr1 = MWTP_Area1, distr2 = MWTP_Area2, detail = TRUE) mded.area hist(mded.area$diff, main = &quot;(b) Area&quot;, xlab = &quot;Difference&quot;) v0 &lt;- 0 Plan1 &lt;- c(1, 0, 0, 0, 20, 0) v1 &lt;- sum(out.rural1$coef * Plan1) (-1 / -out.rural1$coef[&quot;Tax&quot;]) * (v0 - v1) Plan2 &lt;- c(1, 1, 0, 0, 60, 0) v2 &lt;- sum(out.rural1$coef * Plan2) (-1 / -out.rural1$coef[&quot;Tax&quot;]) * (v0 - v2) set.seed(123) COEF &lt;- mvrnorm(out.rural1$coef, # coefficients vcov(out.rural1), # variance-covariance n = 1000) # number of replications V0 &lt;- rep(0, 1000) V1 &lt;- COEF %*% Plan1 # %*% is matrix multiplication C1 &lt;- (-1 / -COEF[, &quot;Tax&quot;]) * (V0 - V1) V2 &lt;- COEF %*% Plan2 C2 &lt;- (-1 / -COEF[, &quot;Tax&quot;]) * (V0 - V2) hist(C1, main = &quot;Case 1&quot;, xlab = &quot;Compensating variation&quot;) hist(C2, main = &quot;Case 2&quot;, xlab = &quot;Compensating variation&quot;) quantile(C1, c(0.025, 0.975)) quantile(C2, c(0.025, 0.975)) (-1 / -out.rural1$coef[&quot;Tax&quot;]) * (log(exp(v0) + exp(v1)) - log(exp(v0) + exp(v2))) par(mfrow = c(1, 1)) # not shown in SPMUR C3 &lt;- (-1 / -COEF[ ,&quot;Tax&quot;]) * (log(exp(V0) + exp(V1)) - log(exp(V0) + exp(V2))) hist(C3, main = &quot;&quot;, xlab = &quot;Compensating variation&quot;) quantile(C3, c(0.025, 0.975)) 4.3 case 1 BWS Two methods for constructing choice sets for case 1 BWS: OMED - two level orthogonal main-effect design BIBD - blanced incomplete block design (number of items)BIBD difference set find.BIB(trt = 16, k = 6, b = 16 ) find.BIB(trt = 15, k = 7, b = 15 ) find.BIB(trt = 13, k = 4, b = 13 ) # 11 or 13 items is the best! find.BIB(trt = 11, k = 5, b = 11 ) find.BIB(trt = 10, k = 4, b = 15 ) find.BIB(trt = 9, k = 3, b = 12 ) find.BIB(trt = 8, k = 4, b = 14 ) find.BIB(trt = 7, k = 3, b = 7 ) find.BIB(trt = 6, k = 3, b = 10 ) # 6items10 3items ########### 79,11itemscase 1 BWS items &lt;- c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;) items &lt;- c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;) items &lt;- c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;) Organ donation - Results analysis by R (all output in D:) , Stata, 2Create dataset: final = res + bibd rsource, terminator(END_R) ####################### 13items2resres library(DoE.base) library(crossdes) # crossdes package find.BIBBIBD library(support.BWS) library(survival) library(foreign) ########################################################### %%% 1. Constructing choice sets &amp; Case 1 BWS questions (BIBD) - organ donation  ########################################################### set.seed(123) bibd &lt;- find.BIB(trt = 13, k = 4, b = 13) # BIBD isGYD(bibd) #  trtkb  %View(bibd) items &lt;- c(&quot;Media&quot;, &quot;Religion&quot;, &quot;Tradition&quot;, &quot;Legislation&quot;, &quot;Family&quot;, &quot;Experience&quot;, &quot;Self-decision&quot;, &quot;Consent&quot;, &quot;Withdrawal&quot;, &quot;Death&quot;, &quot;Allocation&quot;, &quot;Indirect payment&quot;, &quot;Direct payment&quot;) %final %%% 1). Preparing BWS questions # design.type = 2 means BIBD % bws.questionnaire(choice.sets = bibd, design.type = 2, item.names = items ) %%% 2). Create dataset &quot;final&quot; = res + bibd res&lt;-read.dta(&quot;D:/desk/Googledrive/fj_phs/data/res.dta&quot;) final &lt;- bws.dataset(respondent.dataset = res, response.type = 1, # row number format choice.sets = bibd, design.type = 2, # BIBD item.names = items) write.dta(final,&quot;d:/BWS_final.dta&quot;) %View(final) # list dat  ########################################################### %%% 2. Analyzing responses using &quot;The Counting Approach&quot; (output: 3 graphs) % two tables: 1.Disaggregated best-worst scores &amp; 2.Aggregated best-worst scores % 1,21n (n) % PS: StataR ########################################################### scores &lt;- bws.count(data = final) scores scores$aggregate data&lt;-as.data.frame(scores$aggregate) # medlist, alt.1attributes write.csv(data,&quot;d:/tab_BWS_aggregate_score.csv&quot;) # StataLatex %%%%% Figure 1 Distribution of simple BW scores by items BW &lt;- data.frame(scores$disaggregate$BW) BW &lt;- lapply(BW, factor, levels = c(-4:4)) # scores are transformed into a factor score.tables &lt;- lapply(BW, table) # table for each item ylimit &lt;- max(unlist(score.tables)) # max count among items pdf(&quot;d:/fig_BWS_bars_items.pdf&quot;) # open .pdf for output par(mfrow = c(4,4)) # create 4 x 4 figure regions, otherwise alarm of &quot;out of figure margin&quot; for(i in 1:13){ # draw graph for item 1-13 barplot(height = score.tables[[i]], main = items[i], # title xlab = c(&quot;BW score&quot;), # label for x-axis ylab = c(&quot;Count&quot;), # label for y-axis ylim = c(0, ylimit)) # limits for y-axis } dev.off() # output graph with pdf type %%%%%% Figure 2 Relationship between the mean BW score and its standard deviation Mean.BW &lt;- colMeans(scores$disaggregate$BW) Standard.Deviation.BW &lt;- apply(scores$disaggregate$BW, 2, sd) pdf(&quot;d:/fig_BWS_mean_SD.pdf&quot;) plot(x = Mean.BW, y = Standard.Deviation.BW, xlim = c(-3, 3), ylim = c(1, 2)) text(x = Mean.BW, y = Standard.Deviation.BW, pos = 4, labels = items) dev.off() %%%%%% Figure 3 Mean BW score per item in each cluster set.seed(123) kmeans &lt;- kmeans(x = scores$disaggregate$BW, centers = 2) kmeans$centers pdf(&quot;d:/fig_BWS_mean_ranking.pdf&quot;) barplot(height = kmeans$centers, names.arg = items , beside = TRUE, # draw juxtaposed bar legend = c(&quot;cluster.1&quot;, &quot;cluster.2&quot;), horiz = TRUE, las = 2, xlab = &quot;BW score&quot;, xlim = c(-4, 4)) dev.off() END_R tab_BWS_aggregate_score.csv mataLatex import delim using &quot;d:\\tab_BWS_aggregate_score.csv&quot; , clear gen att_id=_n rename v1 att_name order att_id , b(att_name) * tex output texsave _all using &quot;d:\\tab_BWS_aggregate_score.tex&quot; , frag replace /// title(Aggregated best-worst scores) /// footnote(Note: The number of respondents is 190) Analyzing responses using the modeling approach use &quot;d:\\final.dta&quot; , clear fr &lt;- RES ~ A + B + C + E + F + G + H + I + J + K + L + M + strata(STR) % the model exclude D to normalize its coefficient to 0 clogit(formula = fr, data = dat) "],["r.html", "Chapter 5 R 5.1 Workflow/Reproducible research 5.2 Plot/graph/visualisation 5.3 Data 5.4 Install R/RStudio", " Chapter 5 R 5.1 Workflow/Reproducible research notebook interface? : humancomputer interaction-, , notebook interface(literate programming), which input PDF, while output HTML, PDF, DOC, dashboard and so on. Some major human-computer interfaces as below: 1 Text-based user interface, e.g. Command-line interface -&gt; notebook interface 2 Graphical user interfaces (GUIs) VS. Sonic user interface 3 Natural language user interface 4 Tangible user interface, e.g. Touch user interface Rmd, stevetemplates, File-&gt; New File-&gt; R Markdown-&gt;From templates R Markdown()LatexPDF, word, html, slides R Shiny (), githubtemplates  Markdown (markup language): a lightweight markup language (like HTML) Markdown (R package): the predecessor of rmarkdown, converts .Rmd files into HTML R Markdown (R package):  rmarkdown and knitr R Markdown (markup language): .Rmd file that is an excellent literate programming and reproducible research Knitr converts .Rmd -&gt; .md .Rnw(Sweave) -&gt; .tex .Rhtml -&gt; .html After Knitr works, then Pandoc converts md/tex/html into various formats as PDF/HTML/Word/. 5.2 Plot/graph/visualisation install.packages(geofacet) facet, . The main function in this package is facet_geo() and its use can be thought of as equivalent to ggplot2s facet_wrap() except for the output it creates. The facet_geo() works just like ggplot2s built-in faceting. library(geofacet) library(ggplot2) head(state_ranks) get_grid_names() %% geofacet head(aus_pop) %% Geofacet - Australian population by age group ggplot(aus_pop, aes(age_group, pop / 1e6, fill = age_group)) + geom_col() + facet_geo(~ code, grid = &quot;aus_grid1&quot;) + coord_flip() + labs( title = &quot;Australian Population Breakdown&quot;, caption = &quot;Data Source: ABS Labour Force Survey, 12 month average&quot;, y = &quot;Population [Millions]&quot;) + theme_bw() Install.packages(Shinytableau) Create Tableau(Power BI) Dashboard Extensions With R Shiny() Install.packages(lattice) % focus on multivariate data, and in particular to produce small multiple plots    pdf(&quot;d:/xx.pdf&quot;) ...... dev.off() // now output tiff(600dpi) tiff(file = &quot;C:/test1.tiff&quot;, res = 600, width = 4800, height = 4800, compression = &quot;lzw&quot;) plot(1:22, pch = 1:22, cex = 1:3, col = 1:5) # dev.off() 5.3 Data  c() #Combine Values into a Vector or List M &lt;- vector(length=8) #vector8 read.table() #txt library(foreign) write.dta(data,&quot;d:/test.dta&quot;) # Stata12 write.csv(desmat, file = &quot;D:/desk/UNSW/DCE/haze_desmat.csv&quot;) # csv rbind(a1,a2) # rows bind  cbind(a1,a2) # column   xls  xlsx  xlsx / XLConnect   if(condition){}/else if(condition){} /else{}  for(name in expr_1){ expr_2} | while(condition){expr} | repeat { expr;break } break  next  A &lt;- matrix(1:15,nrow=2,ncol=4,byrow=TRUE) #, Aint A [,1] [,2] [,3] [,4] #[1,][,1] [1,] 1 2 3 4 [2,] 5 6 7 8 cell &lt;- c(3,5,4,5,6,1,1,4,6,7) A &lt;- matrix(cell,nrow=2,ncol=4,byrow=TRUE) #Anumeric x&lt;-1:5; y&lt;-2*1:5 #,2 4 6 8 10 crossprod(x,y) #,110 outer(x,y) #,5x5 t(x) #xtranspose A&lt;-array(1:9,dim=(c(3,3))) #arrays  B&lt;-array(9:1,dim=(c(3,3))) A*B #: A%*%B #: crossprod(A,B) #:t(A)%*%B apply(M,,FUNction)A&lt;-matrix(1:6,nrow=2);apply(A,1,sum) x[-3] #3 x[c(3,5)] #x35 sort(x) # order(x) # X1 &lt;- c(21.3, 19.9, 22.4, 24.1, 25.9) X2 &lt;- c(32.1, 27.8, 30.1, 29.9, NA) #mean(X2)mean(X2,na.rm=TRUE) is.na(X2) # ID &lt;- rep(1:4,each=8) #rep()32 seq(1, 9, by = 2) rep() ID &lt;- rep(c(&quot;X1&quot;,&quot;X2&quot;,&quot;X3&quot;),c(3,2,1)) #  .VS.  (categorical) Rfactor  factor() levels() table()  is.numeric(X) is.character(X)  as.character(X), as.numeric(X)  length(X)&lt;- attributes(object) attr(object,) R mode(x) # dim(x) # length(x) # e.g. d.medlist mode(d.med) length(d.med) attributes(d.med) head(d.med) dd&lt;-as.data.frame(d.med$nalternatives$alt.1) #d.meddd R R X assign(, X); &lt;- X; X -&gt;; # paste(X,Y) #, complex() #  data frame-- // Statamode data.frame() # as.data.frame() # attach() # attach()with() detach() # Dfm$We #DfmWe$(dollar,at) DataAll &lt;- list(Bird=bid.8, ID=ID, Z=Z) #list&quot;=&quot;,&quot;&lt;-&quot;  list-- list() attach() $ accountants$statef attach(accountants)accountants  list() &gt; x = list(name=&quot;Fred&quot;, wife=&quot;Mary&quot;, no.children=3, child.ages=c(4,7,9)) &gt; x $name [1] &quot;Fred&quot; $wife [1] &quot;Mary&quot; $no.children [1] 3 $child.ages [1] 4 7 9  &gt; x[[1]] [1] &quot;Fred&quot; &gt; x[1][1] $name [1] &quot;Fred&quot; &gt; x[&quot;name&quot;][1] $name [1] &quot;Fred&quot; &gt; x$name [1] &quot;Fred&quot;  &gt; L3 = LETTERS[1:3] &gt; L3 [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &gt; d = data.frame(cbind(x = 1, y = 1:10), fac = sample(L3, 10, replace = TRUE)) &gt; d x y fac 1 1 1 B 2 1 2 A 3 1 3 C 4 1 4 C 5 1 5 B 6 1 6 A 7 1 7 A 8 1 8 B 9 1 9 B 10 1 10 A &gt; d$x [1] 1 1 1 1 1 1 1 1 1 1 &gt; d[[2]] [1] 1 2 3 4 5 6 7 8 9 10 &gt; d[1][1] x 1 1 2 1 3 1 4 1 5 1 6 1 7 1 8 1 9 1 10 1 5.4 Install R/RStudio Rstudio Rstudio is IDE of R, needs setup of R before. Rstudio-&gt;tools-&gt;Global options-&gt;R R, packages install.packages(c(apollo, arm, backports, BayesLCA, bibtex, bit, bit64, bitops, BMA, brio, caret, caTools, cli, colorspace, curl, data.table, deSolve, diffobj, digest, dotCall64, dplyr, e1071, effects, ellipsis, expm, fansi, farver, fastmap, fields, fs, geofacet, gert, git2r, glue, gmp, gower, gsynth, haven, hdrcde, Hmisc, htmltools, httpuv, ipred, isoband, jpeg, jsonlite, ks, later, latticeExtra, lfe, lme4, lmtest, lubridate, magick, magrittr, maps, maptools, Matrix, matrixStats, mclust, MCMCpack, memisc, mime, mnormt, msm, multicool, mvtnorm, nloptr, openssl, partitions, pcaPP, pkgload, pROC, processx, promises, proxy, ps, quantreg, randtoolbox, rappdirs, Rcpp, RcppArmadillo, RcppEigen, RCurl, readr, readstata13, rgl, rJava, rlang, rngWELL, robustbase, RODBC, roxygen2, rrcov, sass, sem, slam, sp, spam, SparseM, statmod, stringi, sys, testthat, tibble, tidyr, tidyverse, tis, utf8, vctrs, VGAM, VGAMdata, vroom, XLConnect, XML, xml2, zip, zoo))  install.packages(&quot;support.CEs&quot;) #support.CEsDCEpackage install.packages(&quot;&quot;,lib=&quot;&quot;,repos=&quot;&quot;) search() # detach(package:) # data() # data(package = ) # .libPaths() #library helptry.all.package=TRUE  &gt;help(bs,try.all.package=TRUE); # Package Library splines E:\\work\\R\\library &gt;help(bs,package=&quot;splines&quot;); &gt;help.search(&quot;tree&quot;); #treeapi  ?plot # , or help(plot) ??vegan # help.search(&quot;rnorm&quot;) # search help files, even wrong spelling args(&quot;rnorm&quot;) # get arguments RSiteSearch(&quot;discrete choice experiment&quot;) #  functionconsole &gt;damnN methods() summaryaov &gt;methods(summary) &gt;summary.aov IO object.size # setwd(&quot;D:/R/DCE&quot;) # getwd() #working directory dir() # Console ctrl+L semi-colon (;) to put multiple statements on one line   Type library()packages Type library(survival) , Type data():R PATH- &gt; Sys.getenv(&quot;PATH&quot;) Warning message: In normalizePath(path.expand(path), winslash, mustWork) : path[1]=&quot;D:/????&quot;: The filename, directory name, or volume label syntax is incorrect "],["python.html", "Chapter 6 Python 6.1 Deepnote 6.2 Network science(complex network) 6.3 Plot and visualisation", " Chapter 6 Python 6.1 Deepnote The best platform for Python/R, which is cloud-based, real time, no install requirements, with lots of packages already installed. Disadvantages: 1) Running speed is low for R, compared to my RStudio. 2) For R, packages combination is not well-supported, so the dockerhub image is required for setting up environment. 6.2 Network science(complex network) NetworKit is a growing open-source toolkit for large-scale network analysis. This moduler includes standard measures of network analysis, such as degree sequences, clustering coefficients, centrality measures, and more. 6.3 Plot and visualisation PlotlyPython(bokeh)/(Jupyter Notebook )Python, MATLAB, R Python: 1. cufflinks+express+plotly; 2. bokeh+hvplot : ggplot() -&gt; plotly() -&gt; cufflinks : matplotlib() -&gt; seaborn "],["sql.html", "Chapter 7 SQL 7.1 SQL 7.2 Tableau 7.3 Power BI", " Chapter 7 SQL REDCAP is based on MySQL, still a data store and management tool 7.1 SQL SQL is used to create queries to manipulate the data stored in a database. Open Database Connectivity (ODBC) interface makes it possible for applications(Stata/R) to access data from a variety of database management systems (e.g. SQL Server). 7.2 Tableau Tableau(Power BI) 7.3 Power BI Key words: interactive data visualization, Microsoft, business intelligence(BI) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
=======
[["index.html", "My Notebook Chapter 1 Intro 1.1 2022年 1.2 2010-2012年", " My Notebook CTang 2022-02-07 Chapter 1 Intro This notebook covers my daily skills learning. 1.1 2022年 1.1.1 Feb Debug: RStudio couldn’t work well if R libraries are synchronized, I’m considering transfer the platform to RStudio Cloud, like Deepnote-Python 1.1.2 Jan 以下情况不需要伦理审查 Do I need to apply for ethics approval? In cases where data are collected for the purpose other than research, you might not need to submit an ethics application. This might be the case if your project falls into one of the following categories of data collection or use: Archival data, if it is from a public domain Please note, you will have to apply for ethics approval if the information you intend to use is identified personal information (states or implies identity), not in a public domain or if you will collect data in addition to the archival research. Administrative data collection Collection of data from staff or other stakeholders for the purposes of informing or improving a process within your organisation is not considered research. Still, if you later decide to use this data for research purposes, you will need to apply for ethics approval. In addition, the use of identified data always requires ethics approval. Teaching and learning If you collect human data solely for teaching or learning purposes and do not expect to publish or present any data, no ethics application is necessary. However, if you think the project may be published, it is recommended that you apply for ethics approval before running the project, as this is easier than getting approval subsequently. Quality assurance or clinical audit Usually data collected for quality assurance purposes or an audit, does not require ethical review, if it is for your organisation’s own information. However, if information is to be taken outside the organisation and used for a published paper, research project etc, this is considered research and requires ethical review. Negligible risk research involving collections of non-identifiable data Your research involves negligible risk if you use existing non-identifiable data or records or if it does not involve any foreseeable risk of harm or discomfort, which means there must not be the possibility of anything more than inconvenience. Although in this case you are not required to apply for ethics approval, you will probably need to complete a form to confirm that the project is of negligible risk, and provide a letter (or similar evidence of approval) from the person in charge of the data. 1.2 2010-2012年 1.2.1 8月25日 关于申请2012年“国家优秀自费留学生奖学金”的通知 2012-08-09 我可以申 Win episcope 等级评分也是定性资料！ 误差条图error bar chart 84-91-205 Approximately=a number of=some 各国都是以民营医疗为主体的现实…国进民退会不会体现在医改投入的效果中？私医院会不会退潮？降温？也就是政府医改投入对私部门的挤出？ me： 0404142385 bao： 0404151559 PassPort: G55112399 1/28 FORSYTH STREET, Kingsford, NSW, 2032 2816 chengxiang Essays on Physicians’ Choice Changes in drug utilization following the outpatient prescription drug cost-sharing program–evidence from China’s Win episcope 等级评分也是定性资料！ 误差条图error bar chart 84-91-205 Approximately=a number of=some bao： 0404151559 PassPort: G55112399 各国都是以民营医疗为主体的现实…国进民退会不会体现在医改投入的效果中？私医院会不会退潮？降温？也就是政府医改投入对私部门的挤出？ 1/28 FORSYTH STREET, Kingsford, NSW, 2032 13540617813 LCA有两个models：choice model, class membership model R 有个BayesLCA包，刚出，非常适合latent class model White, A. and T. B. Murphy, et al. (2014). “BayesLCA: An R Package for Bayesian Latent Class Analysis.” Journal of Statistical Software 61 (13). air quality improvement, latent class, preference heterogeneity: prefer status quo, prefer change?? One observable determinant of this preference heterogeneity is the exposure of individuals to health risks relating to air quality 利他 对 气候变化、器官移植影响？？？925452379636 how to divide classes in public and private hospital study: public-oriented, non-public-oriented patients DCE topics: organ transplant, blood transfusion, drunk driving, weather and agriculture outcome health &amp; policy focus on “health shock + regression discontinuity” labor focus on “tournament theory” 3 the health and health expenditure impacts of prostitution regulation in aus http://en.wikipedia.org/wiki/Prostitution_in_Australia http://en.wikipedia.org/wiki/Prostitution_and_the_law#Victimhood_issues 拟凹函数是定义在凸集上的满足以下性质的函数：任意两点的凸组合的函数值不小于这两个点的函数值中较小的一个；等价定义是这个函数的任一优集是凸集；如果二阶可微，则加边海赛矩阵的是半负定的 凹是基数性质，拟凹是序数性质，序数性质指在正单调变化下保持不变的性质 单调函数一定是拟凹的 拟凹性对最大化最小化问题是否有全局解，是否有唯一解的判断有用 假设一个消费者的 Bernoulli 效用函数是 u(x)=X^1/2他面对彩票 g=(1/2。16, 1/2。4)计算消费者的确定性等价 … Certainty Equivalent: c(1/2)=1/216^(1/2)+1/24(1/2)得到c=9; Probablility Premium:(1/2+x)(10+6)(1/2)+(1/2-x)(10-6)(1/2)=(10)^(1/2)得到x=[10^(1/2)-3]/2,这个就是probability premium,这里消费者的初始财富是10. 闭合形式解：一个能直接计算级数和或递归结果的等式。 通常来说: CLOSED FORM SOLUTION 是解析解, (相对于数值解而言) 见到很多文献中的牛人 G Bloom, T Evens, W Hsiao, 牛美女梁. 认识了不少研究者,美国的,国内的. 国际学术会议是需要做很多准备:一参与者的背景调查,因为他们会找你谈话,要认识牛人,如福籍美国的洪燕教授,还有哈佛的研究员.二是提高自己的英语听力和口语,两者缺一不可,这决定你能与他们交流的基本前提.三是学术水平,当然这还好,毕竟自己兴趣最重要,不指望结识所有研究者,而重在认识自己兴趣领域的. 学术会议是自由平等的场所,要勇于展示自己,这次自信心不够,不敢一开始站在自己海报前向有兴趣的研究者介绍自己和研究,错过认识更多人的机会.第一天上午本就有很多人看我海报,可惜我没信心上去介绍和攀谈,而学术会议最重要在于认识和展现自己,直到下午一小时必须站那,可惜没认识几个时间就过拉.另一个就是找自己感兴趣的研究,并主动攀谈研究者聆听其研究和看法最后要名片建立联系.这次回去可主动找西北大学那个表示兴趣和未见到他的遗憾. 另海报比口头展示更提高自己和人沟通的机会和技巧,我第二天发现不少口头展示听者聊聊了,所以学术会议每一分钟都价值千斤,要前期认真准备,中间认真听演讲努力展示自己研究课题和兴趣,多主动找兴趣类似研究者聆听他们的研究再建立联系,会后主动帮助她们沟通和联系她们. (自己名片必须的) 文献综述一篇，关于影响药师工作绩效的多因素。 http://www.sciencedirect.com/science/article/pii/S016885101100114X Human Capital的定义和表现形式值得借鉴： http://www.nber.org/papers/w17474.pdf 如何组建包含地理信息和distance的数据库，并计算对健康补助和健康产出的影响 http://www.nber.org/papers/w17471.pdf we own more knowledge, but use less 可惜共產革命在１９８９年就已經證明失敗了，不然全民公務員化還真是個救經濟、救失業的好點子 菲尔德斯坦说：医院的政治行为简直是描述经济学上自利人模型的完美例子。 Defenders of the new law invariably ignore the supply side of the market. They assume that if you insure the uninsured or give people more generous coverage that they will all get more health care without ever asking: who is going to provide that extra care? Purports to control total spending on physician services, but it controls only prices, even though spending is the product of the price and the number and intensity of services. We’ve seen that diagnostic imaging costs more in the U.S than elsewhere, but what about physician fees? This is arguably the most subjective part of the health care system. For example, do some countries value their physicians more than others? What about the emphasis on primary care versus the various specialties? 关键词： health care price physician specialization price regulation medical profession specialization regulation primary care physician specialization health economics labor division topics in medical economics specialization division of labor physician division of labor physician specialization physician fees医生费 Physicians can sell prescriptions directly to patients. Unsurprisingly, Japan has the highest consumption rate of pharmaceuticals per capita in the world. 背后的信念是因为确认医生在诊断和处方上有专业的技能,但非配药.相反,药师则在配药上有专业的训练。 所以，配药包括：“病人并可以选择在任何药房配药,而所配之份量亦可以依据病人的需要或经济上之不同而有所改变.同时处方上的不清,或病人不明百之处,药师可以直接与医生联络,立即改正处方或因应医生指示建议病人再访医生.再者药师亦能于释出药物时提供病人直接的服药指导.病人可在任何时候再访药房询问有关药物问题,而不需任何费用。配药学不只是数药丸,其实,药物的管理,病人的辅导更为重要”–即监督医生、校正处方、调整药品、指导病患。 咨询药物是否有FDA审核，副作用，还有什么别的现存药物治疗我的疾病，新药的最新资讯，有替代的非专利药物吗(Generic Drugs)，非专利药物是否和我的有商标名称的药物(brand-name drugs)本质类似，其效果又如何，有非处方药(OTC)吗，其与处方药有差异吗，有没有饮食补充方法，我从哪里找这些饮食信息？ Approved Drugs * How is medicine approved by FDA? * How can I find out if my medicine is approved by FDA? Side Effects * How can I find out about side effects or safety concerns for my drug? * Do drugs have risks? * How do I report a suspected drug side effect Treatments for Medical Problems * What approved drugs are available to treat my disease? * Since FDA cannot provide information about drugs in development, where can I go to learn more about them? Generic Drugs * What are generic drugs? * Is there a generic equivalent for my brand-name drug? * Are generic drugs as effective as brand-name drugs? Prescription Drugs and Over-the-Counter (OTC) Drugs * What is the difference between prescription drugs and OTC drugs? Dietary Supplements * What is a dietary supplement? * Where can I find information about dietary supplements? 第一步亦是最易接受的就是争取病人的”取方权”–这是属于四种策略哪种？ –重要的不是在哪买药，而是经济环境条件是否更适合医生和药师选择自己怎样专业化，也就是医生和药师的选择，只要他们选择好了，其他都不是问题！ 医生可以直接卖药给患者，而不是医生只提供诊断服务和治疗建议，由药师配药。这就是SPD问题，本质上是分工问题，药师没有参与到患者的治疗过程中来。常常导致的问题就是人均药品消费超高，即使发达如日本也不能例外。 Modern prescriptions evolved with the separation of the role of the pharmacists from that of the physician。 我的兴趣： 一个是分工理论在GP-physician和doctor-pharmacist的演化中的作用 二是中国卫生系统–这个无论是价格机制还是分工机制都messy的东西 从历史来看，药剂制作和（类）药剂师的出现，无论中国和西方都有几百上千年的历史，见Du liping的”Professional Code or Legal Sanctions: Pharmacy in China”和”Kremers and Urdang’s History of pharmacy” By Edward Kremers, Glenn Sonnedecker这两本书。 中国会不会存在这样一个问题： 因为价格机制管制→导致GP-physician和doctor-pharmacist的分工无法演进？ 也就是说fixed price system→分工停止（虽然也有人为的复制西方分工体系，但多失败）→效率无法提高？ 换句话说，价值制度决定分工水平和演进 Folland的卫生经济学书version6的第338页有讲physician的专业化一小节，注意是physician，不是全部medical professions。 差异化和专业化有什么区别？有什么关联？ 亚当·斯密为代表的古典经济学关于劳动分工是经济发展和增长的原动力这一伟大洞见，提供了微观机制和数学框架 劳动分工理论对于管理理论的发展起到了十分重要的作用，后来的专业分工、管理职能分工、社会分工等理论，都与斯密的这一学说有着“血缘关系”。 阿罗称赞杨的研究使亚当。斯密的劳动分工论与科斯的交易费用理论浑为一体 全民健保名字里虽然有保险，其实不是保险，而且比保险更糟。 可以精算交通事故的机率，可以精算汽车险保费，但是病有万万种，台湾的健保早就没有精算疾病机率的这个程序了，因为根本做不到。没办法精算大小疾病的机率，健保管理就不是保险管理，而是预算管理。 健保比保险更糟，是因为保险里「第三方付费」的机制，在精算机率和政府监管的前提下，原本问题不明显。但是一旦健保变成预算管理，那使用者不管帐的第三方付费机制，就成了非常严重的「代理人问题」。 民众缴了保费，就不用管健保局怎么和医院打交道，也没有任何节省医疗支出的诱因，所以不看白不看。而且恶性循环，医疗费用因为民众不看白不看而愈来愈高，健保局只好调保费，而保费调愈高，民众愈觉得不看白不看。不管是一代健保的个人所得，或是二代健保的以家户所得计算基础，原理都是在调保费，没有任何解决「代理人问题」的机制。 芝加哥大学教授、曾获诺贝尔经济学奖的贝克（Gary S. Becker），评论欧巴马的健保改革时说，问题就是出在保险，健保改革还扩大保险的范围？很不幸，我们的健保已经是全民强制纳保，也就是说，我们早就走上医疗支出无法控制的不归路了。一项鲜为人知的数据是，台湾人缴的健保保费已经比综合所得税还多了，而且以后只会更多，不会更少。 英國公醫制度在不少人眼裡也許沒什麼不好，但是英國的醫療品質在歐盟裡最差，醫生收入、地位最低，醫療支出還名列前茅也是不爭的事實。 There are 6 features which contribute to the benefits on a popoulation’s health, associated with primary care. (Starfield et al., 2005) These benefits are improved access to services, improved quality of care, more emphasis on prevention, early management of health problems, combined effect of primary care delivery characteristics and the role of primary care in reducing unnecessary and potentially harmful specialist care. (Starfield et al., 2005) General practice was first introduced into parts of urban China in 1999. (Liu, 2005) CHC was introduced in 1998. (Pan et al., 2006) a major determinant of a patient’s satisfaction with care provided is their initial expectations, which can be shaped by a number of variables, including “socio-demographic and socioeconomic factors, past experience, needs, and word-of-mouth influence.” (Tam, 2007)Recently research seeking to understand patient’s perspectives has moved from asking about patient satisfaction, which can be difficult to interpret to enquiring about patient experiences with healthcare. (Davies and Cleary, 2005) The John Hopkins PCAT’s four main domains assess the structure and process of primary care service provision The John Hopkins Primary Care Assessment Tool was selected for use to assess patients’ experience of quality. Measuring patient experience of quality rather than patient satisfaction was a key feature when choosing the research instrument, given increasing dissatisfaction with measuring patient satisfaction, due to difficulty in interpreting patient satisfaction results. (Berendsen et al., 2009; Davies and Cleary, 2005) As part of the calculation of sub domain scores a score of 9 - not sure, was converted to a score of 2.5 for all sub-domains, except comprehensiveness, where a score of 9-not sure was converted to 0. Instead, during the interviews the research assistant conducted the interview and the translator translated the main points of the interview as the interview was ongoing. This allowed the opportunity to ask some questions as the interview progressed. Rozi，你要注意：extent of affiliation和 ongoing care是同属于一个主构面下面的分构面。 在6个缺失变量里，即无法确认PCP的的患者里，z贡献了5个，而我只造成一个 讲一下本科生的gp实习问题， 安泰中心实习两周变为一周 而r在英国两年时间里每周要去gp诊所实习一个下午，在第四五年级每年都要去实习4周，如果把实习作为一种暴露的话，那么是否更长的实习时间能够影响医学生下基层工作的意愿呢？以前看过一篇类似的JAMA的文章，就讲美国的医学生受哪些影响更愿意从事内科和家庭医生 以下记录几个我和rozi发现的，还可以继续研究的课题： 1、看病时的隐私，针对大医院诊室里病人的拥挤和不排队现象。提问：是否我们的病人就真的不在乎隐私呢？ 2、为什么医学院校把两周的社区卫生服务实习时间改为一周，因为对比UK的培养体制，他们的医学生大量时间在GP实习 3、CHC的病人上午下午极不相同，上午挤了很多人，下午有3-4个医生却没有病人。虽然他们说下午医生都去家庭访视了，但是R和我奇怪，他们在做完health records以后，还用每天下午都去居民家中，如果去的话都是提供什么服务呢？ –120元的限价 FDA–which determines effectiveness of a drug regardless of cost NICE–which determines not only whether a drug is effective, but whether these health improvements are worthwhile considering the drug’s cost. “当医生不知道一个检查、一片药丸要多少钱的时候，医改就成功了。至于民众是否看得起病，那就是保障体系建设的问题了。”廖新波说。——–这个命题假设是否合理？？待检验 社会医学课程—预防、临床（其实质是治疗医学）、康复及临终关怀，三块分了病人 不是所有人都相信中国宏伟的医改方案会取得成功。上海一家大医院的资深外科医生宋科瑛认为医改在短期内不会有什么效果。宋医生持有中国和美国的两个医学博士后学位。他指出医改方案缺少面向医生的激励政策，因为国内医生的待遇比西方同行要低很多。因此，他认为要减少医院的药品销售提成很可能不会奏效。至于总值8500亿元的投资，宋医生认为中国市场太庞大、医院数量太多，单个社区卫生服务中心收到的投资将非常有限。他认为医改应当解决医生的低待遇处境，而医改方案中并未提到这个问题。 医改还在细节处，公共政策还在细节处。医疗成本与财务权多大程度控制在个人手上有正相关，当然它还受其他如支付方式、保险影响。 想法：经济水平和卫生服务人员的配置模型，本来卫生人资配置主要考虑疾病需求和收入，这里从经济水平寻找一个平均标准，并测算福建地域内的配置是否合理。 全文—–专门的数据库生产商—EBSCO、OVID、ProQuest 全文——出版社或专业学会——ElsevierScience、Springer、John Wiley 全文和文摘—-联机检索系统—-Dialog 文摘为主——OCLC FirstSearch、Scopus（包括社会科学方面的信息资源） EBSCO全文数据库（含文摘或全文） paper多数是指高校的学术论文与研究 这个词多用于美国英语 essay的意义跟paper差不多，不过一般是更短更简单、有特定主题的那种，它的学术层次比paper要低一些，许多时候是指就一个具有争议性论题所进行的讨论。 1.2.2 2011年5月24日 – Visa/Passport information ★ –whenever扫描发过去都行 – Proof of English Ability – Notarised/Certified Transcript – Details of previous research – Sponsorship Letter –（You must download the Sponsor Contract Form, which must be completed and submitted to the relevant Admissions Office.） ★ –没影响 – Research Plan – Proof of contact with supvsr ★ – Curriculum Vitae 1.没有办护照，没有visa信息，能不能推迟给而不影响奖学金申请~ 推迟的话，最后的日期是多少，可以说明你现在不在户口所在地，护照办理不方便 2. 之前邮件中提到的 Sponsorship Letter 问题，是你犯的一个错误，在提交申请资料的时候，遇到Will you be sponsored by an Official UNSW Sponsor ?时，你应该选择NO，但是你选了yes，事实上商学院并没有和你谈及至奖学金，只是小蜜提醒你可以申请这个奖学金。 昨天决定，接受ucf offer（中佛）。我有以下缺点： 1） 我的本科学校及美国的学校都一般。 2） 没有金融的推荐信，虽然我的推荐人肯定会强力推荐，但作用应该不大。 3） 没有金融方面的论文。 4） 年龄已经大到影响申请。 5） 背景太复杂，多半人并不喜欢。 所以我申请的定位并不高，除了Rice 算好一点（但第一批得到拒信， 其他的都一般。offer得到的很早，funding 很好，20000GTA+5000summer fellowship, 如果 暑期教课，每门3000， 不过也就教一门课吧，因为他们学校要求前两个暑期各完成一篇论文。 钱对我很重要，关系到全家人的生活，所以接到这个offer后，基本上就不再考虑offer低于20000的学校了。 2.对于研究方向，如果不是特别清楚（其实我觉得在入学前，根本不必要把自己的定位搞得太死板），不必太执著于某一方向，选校时要综合考虑，但是在自我陈述中一定要指出来，根据不同的学校，应有不同的研究方向。 3：选校时可以把简历发给PHD coordinator, 让他们看一下，顺便问一下学校招生情况，多半时候会有答复，从回信中可以看出他是否对你感兴趣。positive的回复不代表offer, 但恢复若是negtive， 就一定不要申请， 无论你多想。 4：尽早完成申请，越早越好，并不是所有学校只有到截止日期后才审材料。 5：陶瓷可以，但最好在审材料以前。 6：申请的时候越仔细越好。 7：没有哪个学校可以保底，你申请的最差的学校只不过是你的底线而已。 letters of recommendation should address your potential as a scholar based on their experience with you as a student, research assistant, or teaching assistant. 美国大学的研究生奖学金，对于国际学生而言，主要分为两类：非服务性奖学金（Non-Service Scholarship）、服务性奖学金（Service Assistantship）。非服务性奖学金包括Fellowship（学院助学金）、Scholarship（奖学金）、Tuition &amp; Fee Waiver（全免学杂费）以及Awards（奖励）。 1．Fellowship是金额最高、但竞争最激烈的非服务性奖学金。一般情况下，获得Fellowship，便是获得了全奖，即除了免学费杂费、住宿费、保险费、书本费以外，还给获奖学生一定金额作为其个人消费费用。 2．Scholarship形式多样，可以是作为某种奖学金形式颁发给成绩优异的学生，也可以是免除学费或杂费。Scholarship的具体金额，也会随着学院规定的学杂费金额高低而不同。Scholarship不像Fellowship那样只有一种形式，在同一所大学可能设置几种甚至十几种不同形式的Scholarship，一个学生也可以有资格同时申请两种以上的Scholarship。 3．Tuition &amp; Fee Waiver：在一些美国学院中，设有全免学费的奖学金，有的学院把它作为Scholarships的一种，有的学院把它单独列出。全免学费是在非服务性奖学金中最易申请的一种，然而虽然免去了学费,但由于学费只是总花费的一部分，所以如果要获得足够的资金，还需同时申请其他形式的奖学金。 服务性奖学金包含Teaching Assistantship（简称TA，助教），Research Assistantship（简称RA，助研）和On-Campus Job三种。获得TA/RA的资助者，每周需担任12-20小时的辅助教学或研究工作。这种经济资助只提供给硕士或者博士申请者。对于申请美国研究生以上级别的中国学生来说，获得奖学金的机率会比本科生或本科转学生大得多，多数都是以拿到这两种服务性薪金的一种来获得全奖的。绝大多数的美国高校研究生院，都设置这两种资助，然而并非所有学院的此类资助都能覆盖一年中的全部费用，但多数都在全部金额的2／3以上。不过很多学校提供这种奖学金的同时，还会给学生免学杂费，也就相当于申请到“全奖”。不过，TA/RA所得是要纳税的。校内工作 (On-Campus Job)也是服务性薪金的一种，学生通过学校提供的校内工作来获得一定收入。美国移民局规定，国际学生可以在校内合法工作，每小时最低为5.15美金，每周最多可以工作20小时，假期可以工作40小时。校园工作包括在大学食堂、书店、图书馆或健康俱乐部等地方打工，或者在大学的行政办公室帮忙。 1.2.3 2010年10月 十所学校选定，UGA看情况说。 我们强烈推荐所有申请者查看HPM课程在申请前。 PhD申请 面試這種事情 做久了會彈性疲乏 所以大家要找工作 最好在工作一開放就趕快去丟 你越晚丟 你就處於越不利的狀態 這是基本初步的建議 1強大的邏輯能力 2精確的知識引用能力 3並清楚自己的賣點 50之前的都要牛推！我恐怕很难啊 你直接跟张老师联系下 问问清楚 或者直接打办公室电话 问问管学生教学的 这个事情建议你回来直接找哈王亨洪或李洪军 你要是去教务处, 他们是可以给你开证明， Philosophy of economics, economic methodology, history of economics, relation of economics to social values, social economics, ethics and economics, health economics, international economics. Philosophy and Methodology of Economics, History of Economics, International Economics, Ethics and Economics, Health Economics. 邮寄材料到北美-EMS-15天，国际快递5天内, 可寄龙翕，他转寄，省钱，他一封6刀 DHL：中外运-敦豪福建分公司 中国福建省 福州市仓山区盖山投资区高旺路9号5号楼1-2层 + 86 (591) 87321111 350007 否 请您拨打800-810-8000预约取件 GRE 建议NO.的填空做2遍, 因为填空句子比国内题句子稍难,但逻辑很清晰,对做题思路的训练很有帮助 -ive结尾，表示人喜欢做这件事 GRE考得多的单词可以看出美国人对其的偏爱，哈哈 类比关系要有必然性在里面：比如“灵巧的人”是“灵巧的” 1.2.4 8月25日 福州仓山区中医院数据输入了两遍 保护坏参与者会伤害所有参与者，而且帮不到任何人 Win episcope 重要的經濟觀點，通常是正確但不明顯(universally true, but not obvious) 等级评分也是定性资料！！切记 10.100.246.38 / 254 10.46.2.16 2号线6站到中山公园转3号线 My confirmation number is 8850000000499691. REGISTRATION NUMBER: 6610367 登陆时用confirmation那个 连日期都不用输 顶边1.85+1.45 读-听-说-写 1.2.5 6月27日 1、为什么我们要相信你有在这个领域做研究的潜力？ 2、你觉得你正在做什么？为什么？ 3、好的PS包括你做过的项目和这个领域相关研究的引用！ the most important character trait in research is not intelligence, but self-disciplin. So, if you want prove that you have potential, prove that you have the fortitude to take on the system 217-4184643 谢亮手机 Food Science and Engineering Food Sci &amp; Engineering Business Administration Social Medicine &amp; Health Administration 09/01/2002 09/01/2004 06/30/2006 baccalaureate degree Fujian Medical University 09/01/2008 06/30/2011 Lieping Chen clpqsc@126.com Fujian Medical University 0086-13763834045 Weiguang Zhang zwguang@swu.edu.cn Southwest University College of Food Science 13983485159 Rosalind McCollum Concern Worldwide rosalind.mccollum@concern.net Ireland Chongqing Southwest University Attended From 09/01/2002 To 06/30/2006 Degree Bachelor of Engineering Received 06/30/2006 Southwest University Attended From 09/01/2004 To 06/30/2006 Degree Bachelor of Business Administration Received 06/30/2006 统计、数学、经济课程： Advanced Mathematics-2002, Probability Theory-2003, Linear Algebra-2003, Microeconomics-2004, Macroeconomics-2004, Medical Statistics-2008, Health Economic-2009 电脑编程、数据库课程：VB Programming(2004) 5187 0000 EMORY U GRAD SCH 2074 1903 CARNEGIE MELLON UNIVERSITY PUBLIC POLICY STUDIES 1565 0000 NORTHWESTERN UNIVERSITY 5816 0616 U NORTH CAROLINA CHAPEL HILL PUBLIC HEALTH 去北美第一要点是：选项目，既不是选博导，也不是选学校！！切记 Chengxiang Tang MHA. Candidate School of Public Health, Fujian Medical University 88 Jiaotong Road, Fuzhou, Fujian, 350004, PRC Cell: 860591-13705914418 Email: tang.chengxiang@gmail.com 方向：primary care, provider, rual area, Health Manpower Management（Merged with Journal of Management in Medicine in 1999） key words： human resources for health 最常使用 heath human resources 这个词加拿大使用非常频繁 health workforce health staff health manpower 原来这是90年代前用的词 Health Personnel Personnel &amp; human resources management Personnel management "],["bat-excelword-lyxlatex.html", "Chapter 2 bat, Excel/Word, Lyx/Latex 2.1 bat 2.2 Excel/Word 2.3 Lyx/Latex", " Chapter 2 bat, Excel/Word, Lyx/Latex 2.1 bat A batch file(批处理文件) is a script file(.bat) in DOS, OS/2 and Microsoft Windows. It consists of a series of commands to be executed by the command-line interpreter, stored in a plain text file. build a new project 先建立project文件夹 到D:_buildfolder.bat 模板 SET log=.\\output\\rundirectory.log :: Clear output and externals DEL /F /Q .\\output\\ :: del命令只能删文件，rd命令删文件夹. rd Filemon :: 删除文件夹。 /q参数表示，删除不需要确认。 /s参数表示删除该文件夹及其下面的子目录和文件 :: filemon文件夹和该bat文件在同一目录下，就省去具体路径 RMDIR .\\external /S /Q MKDIR .\\external :: Log start ECHO rundirectory.bat started &gt; %log% ECHO %DATE% &gt;&gt; %log% ECHO %TIME% &gt;&gt; %log% DIR .\\output\\ &gt;&gt; %log% :: Get externals SET rev=4 SET svnpath=https://booth.svn.cloudforge.com/svndemo/trunk/ SVN export &quot;%svnpath%/analysis/output/regressions.tex@%rev%&quot; &quot;./external/regressions.tex&quot; --force -r%rev% &gt;&gt; %log% SVN export &quot;%svnpath%/raw/data/potato.dta@%rev%&quot; &quot;../external/potato.dta&quot; --force -r%rev% &gt;&gt; %log% SVN export &quot;%svnpath%/raw/data/tv.dta@%rev%&quot; &quot;../external/tv.dta&quot; --force -r%rev% &gt;&gt; %log% :: Compile the paper PDFLATEX .\\source\\tv_potato_submission.tex -output-directory=.\\output\\ &gt;&gt; %log% :: Delete auxiliary files DEL .\\output\\tv_potato_submission.aux .\\output\\tv_potato_submission.log :: Merge files, clean resulting data set &quot;D:\\stata13_SE_unsw\\StataSE-64&quot; /e do mergefiles.do &quot;D:\\stata13_SE_unsw\\StataSE-64&quot; /e do cleandata.do :: Run regressions &quot;D:\\stata13_SE_unsw\\StataSE-64&quot; /e do &quot;D:\\svndemo\\branches\\analysis (alternative regressions)\\code\\regressions.do&quot; :: Append log files COPY %LOG% + regressions.log %LOG% DEL regressions.log :: Log end ECHO rundirectory.bat completed &gt;&gt; %log% ECHO %DATE% &gt;&gt; %log% ECHO %TIME% &gt;&gt; %log% bat重命名文件 ren aaa.txt bbb.doc ::将 aaa.txt 命名为 bbb.doc ren [Drive:][Path] filename1 filename2 复制cd.dll文件至windows copy cd.dll %windir% 目录方式打开文件夹 start explorer “D:and Inst” 某个程序打开某个文件 start D:_SE_unsw-64.exe “D:and Inst\\0prog_IFRS.do” 打开任何文件-如noteexpress start “” “D:.nel” 添加注释–段首，段后 start “” “D:\\03090561111137697.pdf” ::打开pdf 2.2 Excel/Word Excel以下内容可转至word, 再用通配符替换: WORD中的通配符主要有： *代表0至任意个字符； ^?代表任意字符； ^#代表任意数字； ^$代表任意字母； ^&amp;代表查找内容（在替换框使用，相当于原有内容基础上附加内容）。 选择所有汉字， 在“查找内容”输入 [!1-127] 产生随机数 =RANDBETWEEN(0,1) //随机产生0或者1，binary =round(rand()，2） //随机产生0-1之间任意小数 excel中换行？？ alt+回车 excel快速下拉填充, 双击填充格右下角黑色十字标记 加总 =SUM(1/COUNTIF(D2:D477,D2:D477)) 按 ctrl+shift+enter 结束输入 excel 批量插入空行 的方法： 用alt+F11进入VBE编程，双击左边你的工作表名称，复制以下代码： Sub 添加4空行() Do While ActiveCell &lt;&gt; &quot;&quot; ActiveCell.Offset(1, 0).Resize(4, 1).EntireRow.Insert shift:=xldowm ActiveCell.Offset(5, 0).Select Loop End Sub Alt+Q返回Excel, 将光标停在需要插行的下一行按Alt+F8插入，遇到空单元格会停止插入。 注：这个操作无法撤消; 若想加更多行修改(4,1)和(5,0)数据 只去除全部汉字：全部替换[!1-127]，且高级→通配符 在年月日中间插入空格如：20090805成为2009 08 05 方法：=REPLACE(REPLACE(A1,5,,” “),8,,” “) =TEXT(A1,”0000 00 00”) EXCEL去掉原来表格中的函数—-复制→右键，选择性粘贴，数字格式 格式选定的“自定义”中可以显示“年月yyyy-mm” excel中即使没有19也会默认为19xx开头的年份，这点很好，省的加19 excel中批量去除空行：编辑→定位→空值→删除-整行 各种符号 Excel中“&amp;”这个符号表示“与” 数据计算 ABS 求出参数的绝对值。 条件判断 AND “与”运算，返回逻辑值，仅当有参数的结果均为逻辑“真（TRUE）”时返回逻辑“真（TRUE）”，反之返回逻辑 条件判断 “假（FALSE）”。 数据计算 AVERAGE 求出所有参数的算术平均值。 显示位置 COLUMN 显示所引用单元格的列标号值。 字符合并 CONCATENATE 将多个字符文本或单元格中的数据连接在一起，显示在一个单元格中。 条件统计 COUNTIF 统计某个单元格区域中符合指定条件的单元格数目。 显示日期 DATE 给出指定数值的日期。 计算天数 DATEDIF 计算返回两个日期参数的差值。 计算天数 DAY 计算参数中指定日期或引用单元格中的日期天数。 DCOUNT 返回数据库或列表的列中满足指定条件并且包含数字的单元格数目。 条件统计 FREQUENCY 以一列垂直数组返回某个区域中数据的频率分布。 概率计算 IF 根据对指定条件的逻辑判断的真假结果，返回相对应条件触发的计算结果。 条件计算 INDEX 返回列表或数组中的元素值，此元素由行序号和列序号的索引值进行确定。 数据定位 INT 将数值向下取整为最接近的整数。 数据计算 ISERROR 用于测试函数式返回的数值是否有错。如果有错，该函数返回TRUE，反之返回FALSE。 逻辑判断 LEFT 从一个文本字符串的第一个字符开始，截取指定数目的字符。 截取数据 Left(A1, 2) LEN 统计文本字符串中字符数目。 字符统计 MATCH 返回在指定方式下与指定数值匹配的数组中元素的相应位置。 匹配位置 MAX 求出一组数中的最大值。 数据计算 MID 从一个文本字符串的指定位置开始，截取指定数目的字符。 字符截取 MIN 求出一组数中的最小值。 数据计算 MOD 求出两数相除的余数。 数据计算 MONTH 求出指定日期或引用单元格中的日期的月份。 日期计算 NOW 给出当前系统日期和时间。 显示日期时间 OR 仅当所有参数值均为逻辑“假（FALSE）”时返回结果逻辑“假（FALSE）”，否则都返回逻辑“真（TRUE）”。 逻辑判断 RANK 返回某一数值在一列数值中的相对于其他数值的排位。 数据排序 RIGHT 从一个文本字符串的最后一个字符开始，截取指定数目的字符。 字符截取 SUBTOTAL 返回列表或数据库中的分类汇总。 分类汇总 SUM 求出一组数值的和。 数据计算 SUMIF 计算符合指定条件的单元格区域内的数值和。 条件数据计算 TEXT 根据指定的数值格式将相应的数字转换为文本形式 数值文本转换 TODAY 给出系统日期 显示日期 VALUE 将一个代表数值的文本型字符串转换为数值型。 文本数值转换 VLOOKUP 在数据表的首列查找指定的数值，并由此返回数据表当前行中指定列处的数值 条件定位 WEEKDAY 给出指定日期的对应的星期数。 星期计算 2.3 Lyx/Latex 2.3.1 Lyx Lyx在article（即英文模板）使用中文方法： 在setting→Document Class→Class Options中的Custom一栏填入UTF8（这个选项将传送给ctex宏包）, 还要把语言的encoding设置为Unicode(XeTeX) (utf8) Lyx编译： ctrl+D or ctrl+R 在LaTeX Preamble中输入如下LaTeX 代码 \\usepackage{xeCJK} \\setCJKmainfont{SimSun} 只需点击View&gt;View[pdf(XeTeX)]即ctrl+R可完成编译 每一次新建文档，首先要选择文档的类型，这里以article的类型举例: 点击 File &gt; New ，新建一个空白文档， 点击 Document&gt; Settings 分别点击左侧的导航栏，在Document class中选择 CTeX，这是由于我们的文档中包含中文，参考文献， 目录的格式，CTeX类型的文档能给予很好的支持。 Language中选 Chinese (simplefied)，Encoding 选 Unicode (XeTeX) (utf8) 这是由于我们在后续编译LyX文档的时候， 要用到XeTeX程序，而要在正文中使用中文，xeCJK宏包的效果很好。 在output设置Default output format 为 PDF (XeTeX)，我们用XeTeX编译LyX文档， 生成PDF文档。 2.3.2 Latex pdfpages宏包插入文件无页码的解决 在\\includepdf命令之前加入\\includepdfset{pagecommand={}}，就可以对后面的所有include加页码。 文章中长横线 \\(-\\) %即数学模式的减号 \\item \\item[] % 这样就没有前面一横 插入pdf图片代码： \\begin{figure}[htbp!] \\centering \\includegraphics[width=12cm]{./output/Pat_see_Doc_on_expected_profit.pdf}\\\\ \\caption{Patients&#39; decision to see Doctor (get diagnosis) on expected profit} \\label{fig2} \\end{figure} 多人合作修改latex文档： 一是导言区加 \\usepackage[inline]{trackchanges} 和 \\addeditor{Tang}; 二是在latex文中加 \\note[Marian]{….} latex-caption-加上标，不用 ^, 而用 \\textsuperscript{1} 主latex文件夹下output文件夹插入： \\input{./output/filename.tex} 正文中插入数学符号需要数学环境: \\(\\theta\\) or $\\theta$ online latex: sharelatex .vs. writelatex 最后决定用writelatex， google account登录, 主要是其模板很好，可下载了自己单机用 即使是bib参考文献里面, &amp; 不能单独用, 必须是 \\&amp;, e.g. Journal of Economic Behavior \\&amp; Organization 表格 \\label 放在\\caption 后面 , 引用的时候才不会错 latex文件分割插入 \\input{} 不使用new page \\include{} 使用new page 插入pdf \\usepackage{pdfpages} \\includepdf[pages=-]{myfile.pdf} latex表格实验简介模板： \\documentclass[a4paper] {article} \\usepackage{booktabs} % \\toprule \\usepackage{multirow} % 跨行 \\usepackage{array} % 设定cell width \\usepackage{pdflscape} % \\begin{landscape} \\usepackage{longtable} \\usepackage{caption} % longtable caption center latex表格内划线： \\toprule % 划线同\\hline \\midrule \\cmidrule{2-9} % 划线2-9columns \\bottomrule %这套才是专用表格划线--上下粗，中间细 \\hline %hline划线比较难看 \\chline{2-9} latex表格cells latex表格cells内左对齐： \\multicolumn{1}{l}{文本内容} \\multicolumn{&#39;num_cols&#39;}{&#39;alignment&#39;}{&#39;contents&#39;} \\multicolumn{1}{p{2cm}}{CL} % 它要加p{} \\multirow{&#39;&#39;num_rows&#39;&#39;}{&#39;&#39;width&#39;&#39;}{&#39;&#39;contents&#39;&#39;} \\multirow{2}{2cm}{CL} % 它不加 latex表格cells内的摆中间-最好用空格调整 \\hspace{5cm} latex表格cells内的 上标 $^1$ latex表格cells内的 _ 号必须使用 \\_ latex表格cells内的 &gt; 号必须使用 \\textgreater latex表格cells内的 &lt; 号必须使用 \\textless latex表格cells内的 = 号直接使用 英文双引号–分别敲1左边键两次, 回车左边键两次: ``AAAA’’ 引用 caption{} \\label{ch:xx} % ch=chapter 即本chapter内引用，适用于PhD论文 Figure \\ref{ch:xxx} 参考文献引用： （正文中自己写，或者word和noteexpress联用产生\\cite{xxx}） \\newpage \\nocite{CurrieRossin-1756, AlmondCurrie-1194, CurrieStabile} %隐藏引用，引用从NoteExpress复制 \\bibliographystyle{alpha} %reference按字母顺序 \\bibliography{fluo.bib} %Bibtex文献数据库从NoteExpress导出题录 参考文献citation格式: \\usepackage{natbib} 一定打开格式对照图 http://www.reed.edu/cis/Help/LaTex/images/natbibA-Ncitations.png 常用其实就两种： (\\citet*{}, \\citep*{} 用于完整名字，但是根本无用) \\citet{} % text 无括号，会自动识别两个以上作者，并自动缩写 \\citep{} % 括号 (Lim and Yang et al., 2004; Tang and Zhang et al., 2014) 斜体 \\textit{} 或者 {\\it xxxx} 粗体 \\textbf{} 或者 {\\bf xxxx} 下划线 \\underline{} 页面内部调整行距 \\usepackage{setspace} \\begin{spacing}{2.0} \\end{spacing} 多个公式左对齐且无编号 \\begin{align*} &amp; equation 1 \\\\ &amp; equation 2 end{align*} \\begin{equation} \\label{eq:erl} a = bq + r \\end{equation} where \\eqref{eq:erl} is true if $a$ and $b$ are integers with $b \\neq c$. 注释有3种: 1. 用%注释一行文字; 2. 用 \\iffalse .... \\fi 注释一段文字; 3. 用 \\begin{comment} ... \\end{comment} -- 宏包\\usepackage{verbatim}. $&gt;$ ＞大于号 $\\vert$ 竖线 latex + dvipdfmx 编译的话，eps、pdf、png、jpg 都可以用 设置字体大小命令由小到大依次为： \\tiny \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge 横向距离 \\hspace{1cm} 纵向距离 \\vspace{1cm} 两个quad空格 a \\qquad b 两个m的宽度 quad空格 a \\quad b 一个m的宽度 大空格 a\\ b 1/3m宽度 中等空格 a\\;b 2/7m宽度 小空格 a\\,b 1/6m宽度 没有空格 ab 紧贴 a\\!b 缩进1/6m宽度 Q: 在Beamer中如果直接用pdflatex编译，则eps格式的图形无法识别，这样，一种方法是将eps转换为pdf格式。对于少量需要转换的图形，这种方法无可厚非，但是若有大量的文件需要转换，则转换调整会花费大量精力。如何直接在beamer中应用eps格式的文档呢？ A: 若直接插入eps格式到beamer中，需要通过dvi-ps-pdf形式来生成幻灯片。具体做法： 与其他tex文件一样，首先使用Texify编译源文件,得到dvi文件。 使用dvi2ps，生成ps文件。 使用ps2pdf，生成pdf文件，这也是最终需要得到的文件。 "],["r_onlinebookdashboard.html", "Chapter 3 R_Onlinebook/Dashboard 3.1 Online data collection/transfer 3.2 Building online book(Bookdown) 3.3 Building single page(robobook) 3.4 Building Dashboard(Flexboard) 3.5 Building website wt multi-pages(Blogdown)", " Chapter 3 R_Onlinebook/Dashboard 3.1 Online data collection/transfer Ideally, or the perfect situation, is that we collect and summarise data from internet, clean data, analyse data, and present outcomes online. Data infrastructure of Australia library(aurin) is “Australia’s single largest resource for accessing clean, integrated, spatially enabled and research-ready data on issues surrounding health and wellbeing, socio-economic metrics, transportation, and land-use.” This package provides functions to download and search datasets from the AURIN API (it’s free to use!). There is an example in aurin website showing access data, obtain data through this API. R包 rvest: Easily Harvest (Scrape) Web Pages 参考手册 数据抓取两大阶段：网页获取和网页解析 R主要靠两个包，网页获取是RCurl，解析是靠XML python也对应两个包，网磁获取是requests，解析是BeautifulSoup R包 Rfacebook: 提取facebook的数据 XML(eXtensible Markup Language)可扩展标记语言, 是一种结构化数据交换语言, 可描述非常复杂的数据结构, 常用于传输和存储数据 3.2 Building online book(Bookdown) This tutorial will show us easiest way to build an online book (or a book-style website) through RStudio and GitHub (may also by bookdown.org). We’ll call this book “BB.” 1) Start on local computer Copy folder “D:_template”(this version is from Jules32, much easier than Yihui’s bookdown-demo) to a reasonable place Rename 2 things from “bookdown_template” to “BB”: the folder itself the .Rproj file Double-click the .Rproj file to launch RStudio Click on the Build tab in the top right pane to build book 2) Create “BB” GitHub repo Go to your GitHub account: github.com/username Click on Repositories, and the green button “New” to create a new repo Name this new repo “BB” (DO NOT initialize this repo with a README) Click the green “create repository” button, then copy URL 3) Turn “bookdown_template” into “BB” Go back to RStudio, see your “BB” project In the Console, type usethis::use_git() and say Yes to the two prompts. This will restart R and give you a new Git tab in the upper right pane. Now, click on the Terminal tab next to the Console tab. Type git remote add origin URL Type git push --set-upstream origin master 4) Publish “BB” (Last step) Refresh github, then files should be there! Click Settings Scroll down to GitHub Pages, click “Check it out here” Change the Source pulldown from “None” to “master branch /docs folder” It should say “Your site is ready to be published at https://username.github.io/BB/” 5) Update online book in Github Rstudio to build(knitr) the whole book, including all .Rmd files In Build panel, click “Build Book” or in Console, type rmarkdown::render_site(encoding = 'UTF-8') In Git panel, select all files, click Commit, appears a new window Input “XX changes,” click Commit Finally, click Push -&gt; Done! PS: we ignore Travis and related continuous integration(持续部署) here, actually now Yihui uses Makefile and _render.R instead. 6) Adding chapters(.Rmd) and citations Build a new .Rmd file, name it and begin writing. As Index.Rmd is always the first chapter, we start ordering from “02-xx.” For citations, 3.3 Building single page(robobook) In above chapter Building online book(Bookdown), multiple *.Rmd and .md files, along with a “site YAML file”(vs. YAML header), as input, a multipage website or book with internal navigation as output. (This is how the course web pages are constructed.) If we don’t need a book structure, but a single page with a structured-table(especially good for a report). We use 1) YAML header and 2) first code chunk in a single .Rmd, with outputing a single HTML. The template robobook is great for reading. --- title: &quot;啊啊啊&quot; date: &quot;2022-02-07&quot; #这个output部分在multiple .Rmd files中就是_output.yml文件 #所以 bookdown::gitbook: 对等 rmdformats::robobook: output: rmdformats::robobook: code_folding: show self_contained: true default_style: &quot;light&quot; downcute_theme: &quot;default&quot; --- #```{r setup, include=FALSE} #First code chunk setting global options #knitr::opts_chunk$set(cache = TRUE) #``` PS: Rmd has many excellent templates: rticles(journal papers), prettydoc(html), rmdformats(online book, e.g. robobook style), tufte How to insert figures? For my notebook, all figures are saved in folder /NB_tang/figs. Using codes below: ![First code chunk选项对输出的控制](figs/fig_codechunk_opt.jpg){width=100%} First code chunk选项对输出的控制 3.4 Building Dashboard(Flexboard) some definitions Rmarkdown aims to develop your code and ideas in a reproducible document Shiny package aims building interactive web applications File -&gt; New File -&gt; Shiny uses .R file Flexdashboard package aims building interactive dashboards using Rmarkdown flexdashboard像Bookdown和single page的结合, 适合展示一个topic的数据 flexdashboard是single .Rmd(用===分panel, 用—分column, 用###分box区域) .Rmd内结构也是YAML header + first code chunk flexdashboard用_site.yml as a simple site generator(基于rmarkdown, 后来发明了blogdown使用third-party site generator like Hugo) This tutorial shows us how to build an online dashboard, using flexdashboard, with RStudio and GitHub. We call this project “BB.” 1) Start on local computer Copy folder “D:_template” to a reasonable place Rename 2 things from “flexdashboard_template” to “BB”: the folder itself the .Rproj file the _site.yml -&gt; name(website) Double-click the .Rproj file to launch RStudio Click on Knit to build website .html 2) Create “BB” GitHub repo(see Building online book) 3) Turn “bookdown_template” into “BB”(see Building online book) 4) Publish “BB” (Last step) 3.5 Building website wt multi-pages(Blogdown) Blogdown use the third-party site generator, Hugo. 1) Start on local computer Copy folder “D:” to a reasonable place "],["rstata_stated-preference.html", "Chapter 4 R/Stata_Stated Preference 4.1 Latent Class(潜层模型) 4.2 Binary DCE(used as Case 2 BWS) 4.3 case 1 BWS", " Chapter 4 R/Stata_Stated Preference Install.packages(“logitr”) This package can estimate MNL and MXL, derive WTPs from Preference space and WTP space. For details, see random utility model in two spaces Install.packages(“mixl”) This R package for estimating complex choice models (MXL) on large datasets How to refer to a variable name with spaces? 答案: backticks `(反引号), 如模型: RES ~Indirect payment+Direct payment+strata~’ 这个符号在R里面是建立模型 4.1 Latent Class(潜层模型) Install.packages(“BayesLCA”) An R package for bayesian latent class analysis : Three methods for fitting the model are provided, incorporating an expectation-maximization (EM) algorithm, Gibbs sampling and a variational Bayes approximation. 4.2 Binary DCE(used as Case 2 BWS) 3.4.3 Organ donation部分 - Binary DCE(Lma method) BDCE可以立即用作 Case 2 BWS 这段代码是Stata中运行, 调用R包, 生成DCE原始设计med数据库(med是R中由正交表自动生成的) rsource, terminator(END_R) library(survival) library(stats) library(support.CEs) library(foreign) # for Stata dataset output % 设计DCE的attrs-levels med &lt;- Lma.design( attribute.names = list( consent = c(&quot;implicit&quot;, &quot;active&quot;), final = c(&quot;no&quot;, &quot;yes&quot;), reg = c(&quot;various&quot;,&quot;unique&quot;), quit = c(&quot;never&quot;, &quot;ask&quot;), death = c(&quot;brain&quot;,&quot;other&quot;), priority = c(&quot;no&quot;,&quot;yes&quot;), acknow = c(&quot;no&quot;,&quot;yes&quot;), payment = c(&quot;0&quot;,&quot;1w&quot;,&quot;2w&quot;,&quot;3w&quot;) ), nalternatives = 1, # create design for a BDCE nblocks = 4, row.renames = FALSE, seed = 987) % med是由上面des产生的子数据库36x11，将18个choice set分解成36个alternatives(observations), % 共11个变量(2*5+1,5个离散变量，1个连续变量)描述一个alternative attributes(med) head(med) questionnaire(choice.experiment.design = med ) data&lt;-as.data.frame(med$alternatives$alt.1) # med是list类型的对象, alt.1是attributes组合的对象 write.dta(data,&quot;d:/test.dta&quot;) # 输出BDCE attributes组合数据库 q() END_R use d:\\test.dta , clear 3.4.3 护理学生部分 Binary DCE(Lma method) BDCE可以立即用作 case 2 BWS rsource, terminator(END_R) library(survival) library(stats) library(support.CEs) library(foreign) # for Stata dataset output ################## questionnaire ############################# med &lt;- Lma.design( attribute.names = list(Place = c(&quot;Urban&quot;, &quot;Rural&quot;), Facility = c(&quot;Hospital&quot;, &quot;CHC&quot;), Mgment = c(&quot;Fsuppot&quot;, &quot;Psuppot&quot;), Material = c(&quot;Fully&quot;, &quot;Poorly&quot;), Style = c(&quot;Required&quot;, &quot;Not&quot;), Career = c(&quot;Sufficient&quot;, &quot;Limited&quot;), Income = c(&quot;2000&quot;, &quot;4000&quot;, &quot;6000&quot;, &quot;8000&quot;)), nalternatives = 1, # create design for a BDCE nblocks = 2, row.renames = FALSE, seed = 987) questionnaire(choice.experiment.design = med ) as.data.frame(med$alternatives$alt.1) # med是list类型的对象, alt.1是attributes组合的对象 % PS: 2 blocks, 16 questions in total, thus each one answer 9 questions (including one consistent test) ################## design matrix -- dm.med ############################# - Because from the above questionnaire, we can create two types of BDCE: - 1) No opt-out but include common alternative; - 2) Opt-out but no common alternative. # Here in DCE_med_spe, we choose 2). dm.med &lt;- make.design.matrix( choice.experiment.design = med, optout = TRUE, # include opt-out option categorical.attributes = c(&quot;Place&quot;, &quot;Facility&quot;, &quot;Mgment&quot;, &quot;Material&quot;, &quot;Style&quot;, &quot;Career&quot; ), continuous.attributes = c(&quot;Income&quot;), unlabeled = TRUE, # unlabeled design common = NULL, # do not include common alternative binary = TRUE) # BDCEs ################## Datasets combine: final = res + dm.med ############################# data(res) # Input respondent dataset (clean the consistent test question before input) /* res是这个格式的数据库 ID BLOCK q1 q2 q3 q4 1 1 1 1 1 0 0 2 2 2 1 0 0 1 3 3 3 1 0 0 1 4 4 4 0 1 0 0 5 5 1 0 1 0 0 6 6 2 1 1 0 1 */ final &lt;- make.dataset( respondent.dataset = res, # respondent dataset design.matrix = dm.med, # design matrix choice.indicators = c(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;, &quot;q6&quot;, &quot;q7&quot;, &quot;q8&quot;), detail = FALSE) write.dta(final,&quot;d:/test.dta&quot;) # 输出BDCE attributes组合数据库 ################## Analysis ############################# 上面部分全部调试完毕，分析部分以后做 END_R 3.4.3 医学生部分 BDCE , Lma method, BDCE可以立即用作 case 2 BWS rsource, terminator(END_R) library(survival) library(stats) library(support.CEs) library(foreign) # for Stata dataset output ################## questionnaire ############################# med &lt;- Lma.design(attribute.names = list( Place = c(&quot;Urban&quot;, &quot;Rural&quot;), Facility = c(&quot;Hospital&quot;, &quot;CHC&quot;), Mgment = c(&quot;Fsuppot&quot;, &quot;Psuppot&quot;), Material = c(&quot;Fully&quot;, &quot;Poorly&quot;), Career = c(&quot;Sufficient&quot;, &quot;Limited&quot;), Job = c(&quot;Matched&quot;, &quot;Nonmatched&quot;), Patient = c(&quot;Good&quot;, &quot;Fair&quot;), Income = c(&quot;2000&quot;, &quot;4000&quot;, &quot;6000&quot;, &quot;8000&quot;)), nalternatives = 1, # create design for a BDCE nblocks = 2, row.renames = FALSE, seed = 987) questionnaire(choice.experiment.design = med ) as.data.frame(med$alternatives$alt.1) # med是list类型的对象, alt.1是attributes组合的对象 # PS: 2 blocks, 16 questions in total, thus each one answer 9 questions (including one consistent test) ################## Matched design matrix -- dm.med ############################# # Because from the above questionnaire, we can create two types of BDCE: 1) No opt-out but include common alternative; # 2) Opt-out but no common alternative. Here in DCE_med_spe, we choose 2). dm.med &lt;- make.design.matrix( choice.experiment.design = med, optout = TRUE, # include opt-out option categorical.attributes = c(&quot;Place&quot;, &quot;Facility&quot;, &quot;Mgment&quot;, &quot;Material&quot;, &quot;Career&quot;, &quot;Job&quot;, &quot;Patient&quot;), continuous.attributes = c(&quot;Income&quot;), unlabeled = TRUE, # unlabeled design common = NULL, # do not include common alternative binary = TRUE) # BDCEs ################## Datasets combine: ds.med = medspe + dm.med ############################# data(medspe) # Input respondent dataset (clear the consistent test question before input) ds.med &lt;- make.dataset( respondent.dataset = medspe, # respondent dataset design.matrix = dm.med, # design matrix choice.indicators = c(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;, &quot;q6&quot;, &quot;q7&quot;, &quot;q8&quot;), detail = FALSE) head(ds.rural1) # list head of the final dataset ################## Analysis 上面部分全部调试完毕，分析部分以后做 ############################# fm.rural &lt;- RES ~ Agr + Env + Rec + Area + Tax out.rural1 &lt;- glm(fm.rural, # is glm() the clogit in Stata ? family = binomial(link = &quot;logit&quot;), data = ds.rural1) summary(out.rural1) gofm(out.rural1) out.rural2 &lt;- glm(fm.rural, family = binomial(link = &quot;logit&quot;), data = ds.rural2) summary(out.rural2) gofm(out.rural2) mwtp.rural1 &lt;- mwtp(output = out.rural1, monetary.variables = c(&quot;Tax&quot;), nonmonetary.variables = c(&quot;Agr&quot;, &quot;Env&quot;, &quot;Rec&quot;, &quot;Area&quot;), nreplications = 1000, confidence.level = 0.95, method = &quot;kr&quot;, seed = 987) mwtp.rural1 mwtp.rural2 &lt;- mwtp(output = out.rural2, monetary.variables = c(&quot;Tax&quot;), nonmonetary.variables = c(&quot;Agr&quot;, &quot;Env&quot;, &quot;Rec&quot;, &quot;Area&quot;), nreplications = 1000, confidence.level = 0.95, method = &quot;kr&quot;, seed = 987) mwtp.rural2 str(mwtp.rural1$mwtps) MWTP_Rec1 &lt;- mwtp.rural1$mwtps[, &quot;Rec&quot;] MWTP_Rec2 &lt;- mwtp.rural2$mwtps[, &quot;Rec&quot;] mded.rec &lt;- mded(distr1 = MWTP_Rec1, distr2 = MWTP_Rec2, detail = TRUE) mded.rec par(mfrow = c(1, 2)) # not shown in SPMUR hist(mded.rec$diff, main = &quot;(a) Rec&quot;, xlab = &quot;Difference&quot;) MWTP_Area1 &lt;- mwtp.rural1$mwtps[, &quot;Area&quot;] MWTP_Area2 &lt;- mwtp.rural2$mwtps[, &quot;Area&quot;] mded.area &lt;- mded(distr1 = MWTP_Area1, distr2 = MWTP_Area2, detail = TRUE) mded.area hist(mded.area$diff, main = &quot;(b) Area&quot;, xlab = &quot;Difference&quot;) v0 &lt;- 0 Plan1 &lt;- c(1, 0, 0, 0, 20, 0) v1 &lt;- sum(out.rural1$coef * Plan1) (-1 / -out.rural1$coef[&quot;Tax&quot;]) * (v0 - v1) Plan2 &lt;- c(1, 1, 0, 0, 60, 0) v2 &lt;- sum(out.rural1$coef * Plan2) (-1 / -out.rural1$coef[&quot;Tax&quot;]) * (v0 - v2) set.seed(123) COEF &lt;- mvrnorm(out.rural1$coef, # coefficients vcov(out.rural1), # variance-covariance n = 1000) # number of replications V0 &lt;- rep(0, 1000) V1 &lt;- COEF %*% Plan1 # %*% is matrix multiplication C1 &lt;- (-1 / -COEF[, &quot;Tax&quot;]) * (V0 - V1) V2 &lt;- COEF %*% Plan2 C2 &lt;- (-1 / -COEF[, &quot;Tax&quot;]) * (V0 - V2) hist(C1, main = &quot;Case 1&quot;, xlab = &quot;Compensating variation&quot;) hist(C2, main = &quot;Case 2&quot;, xlab = &quot;Compensating variation&quot;) quantile(C1, c(0.025, 0.975)) quantile(C2, c(0.025, 0.975)) (-1 / -out.rural1$coef[&quot;Tax&quot;]) * (log(exp(v0) + exp(v1)) - log(exp(v0) + exp(v2))) par(mfrow = c(1, 1)) # not shown in SPMUR C3 &lt;- (-1 / -COEF[ ,&quot;Tax&quot;]) * (log(exp(V0) + exp(V1)) - log(exp(V0) + exp(V2))) hist(C3, main = &quot;&quot;, xlab = &quot;Compensating variation&quot;) quantile(C3, c(0.025, 0.975)) 4.3 case 1 BWS Two methods for constructing choice sets for case 1 BWS: OMED - two level orthogonal main-effect design BIBD - blanced incomplete block design (每题的number of items固定，所以建议只用这种)BIBD 可用的difference set如下 find.BIB(trt = 16, k = 6, b = 16 ) find.BIB(trt = 15, k = 7, b = 15 ) find.BIB(trt = 13, k = 4, b = 13 ) # 11 or 13 items is the best! find.BIB(trt = 11, k = 5, b = 11 ) find.BIB(trt = 10, k = 4, b = 15 ) find.BIB(trt = 9, k = 3, b = 12 ) find.BIB(trt = 8, k = 4, b = 14 ) find.BIB(trt = 7, k = 3, b = 7 ) find.BIB(trt = 6, k = 3, b = 10 ) # 总共6个items，10 个问题，每个问题3个items ########### 用于7，9,11个items的case 1 BWS items &lt;- c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;) items &lt;- c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;) items &lt;- c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;) Organ donation - Results analysis by R (all output in D:) , 所有结果输出都Stata化了, 只需要解决第2部分Create dataset: “final” = res + bibd rsource, terminator(END_R) ####################### 下面是成熟的针对13个items的程序，只需加载第2部分的新res数据库（res是来自调查的数据） library(DoE.base) library(crossdes) # crossdes package中的 find.BIB函数产生BIBD设计 library(support.BWS) library(survival) library(foreign) ########################################################### %%% 1. Constructing choice sets &amp; Case 1 BWS questions (BIBD) - organ donation 器官捐献量表 ########################################################### set.seed(123) bibd &lt;- find.BIB(trt = 13, k = 4, b = 13) # BIBD设计 isGYD(bibd) # 此函数检查 trt，k，b 搭配是否平衡 %View(bibd) items &lt;- c(&quot;Media&quot;, &quot;Religion&quot;, &quot;Tradition&quot;, &quot;Legislation&quot;, &quot;Family&quot;, &quot;Experience&quot;, &quot;Self-decision&quot;, &quot;Consent&quot;, &quot;Withdrawal&quot;, &quot;Death&quot;, &quot;Allocation&quot;, &quot;Indirect payment&quot;, &quot;Direct payment&quot;) %接下来两步走，准备问卷和创建final数据库是独立的， %%% 1). Preparing BWS questions # design.type = 2 means BIBD % bws.questionnaire(choice.sets = bibd, design.type = 2, item.names = items ) %%% 2). Create dataset &quot;final&quot; = res + bibd res&lt;-read.dta(&quot;D:/desk/Googledrive/fj_phs/data/res.dta&quot;) final &lt;- bws.dataset(respondent.dataset = res, response.type = 1, # row number format choice.sets = bibd, design.type = 2, # BIBD item.names = items) write.dta(final,&quot;d:/BWS_final.dta&quot;) %View(final) # list dat 数据库，此数据库是最终用于分析的库 ########################################################### %%% 2. Analyzing responses using &quot;The Counting Approach&quot; (output: 3 graphs) % two tables: 1.Disaggregated best-worst scores &amp; 2.Aggregated best-worst scores % 表1,2的关系是，表1所有系数乘以n (n是被调查人数) % PS: 分析部分需要Stata化，R的分析完全没有过程！ ########################################################### scores &lt;- bws.count(data = final) scores scores$aggregate data&lt;-as.data.frame(scores$aggregate) # med是list类型的对象, alt.1是attributes组合的对象 write.csv(data,&quot;d:/tab_BWS_aggregate_score.csv&quot;) # 这个表待会读入Stata，然后转成Latex表 %%%%% Figure 1 Distribution of simple BW scores by items BW &lt;- data.frame(scores$disaggregate$BW) BW &lt;- lapply(BW, factor, levels = c(-4:4)) # scores are transformed into a factor score.tables &lt;- lapply(BW, table) # table for each item ylimit &lt;- max(unlist(score.tables)) # max count among items pdf(&quot;d:/fig_BWS_bars_items.pdf&quot;) # open .pdf for output par(mfrow = c(4,4)) # create 4 x 4 figure regions, otherwise alarm of &quot;out of figure margin&quot; for(i in 1:13){ # draw graph for item 1-13 barplot(height = score.tables[[i]], main = items[i], # title xlab = c(&quot;BW score&quot;), # label for x-axis ylab = c(&quot;Count&quot;), # label for y-axis ylim = c(0, ylimit)) # limits for y-axis } dev.off() # output graph with pdf type %%%%%% Figure 2 Relationship between the mean BW score and its standard deviation Mean.BW &lt;- colMeans(scores$disaggregate$BW) Standard.Deviation.BW &lt;- apply(scores$disaggregate$BW, 2, sd) pdf(&quot;d:/fig_BWS_mean_SD.pdf&quot;) plot(x = Mean.BW, y = Standard.Deviation.BW, xlim = c(-3, 3), ylim = c(1, 2)) text(x = Mean.BW, y = Standard.Deviation.BW, pos = 4, labels = items) dev.off() %%%%%% Figure 3 Mean BW score per item in each cluster set.seed(123) kmeans &lt;- kmeans(x = scores$disaggregate$BW, centers = 2) kmeans$centers pdf(&quot;d:/fig_BWS_mean_ranking.pdf&quot;) barplot(height = kmeans$centers, names.arg = items , beside = TRUE, # draw juxtaposed bar legend = c(&quot;cluster.1&quot;, &quot;cluster.2&quot;), horiz = TRUE, las = 2, xlab = &quot;BW score&quot;, xlim = c(-4, 4)) dev.off() END_R 读入tab_BWS_aggregate_score.csv 然后用mata转成Latex表 import delim using &quot;d:\\tab_BWS_aggregate_score.csv&quot; , clear gen att_id=_n rename v1 att_name order att_id , b(att_name) * tex output texsave _all using &quot;d:\\tab_BWS_aggregate_score.tex&quot; , frag replace /// title(Aggregated best-worst scores) /// footnote(Note: The number of respondents is 190) Analyzing responses using the modeling approach use &quot;d:\\final.dta&quot; , clear fr &lt;- RES ~ A + B + C + E + F + G + H + I + J + K + L + M + strata(STR) % the model exclude D to normalize its coefficient to 0 clogit(formula = fr, data = dat) "],["r.html", "Chapter 5 R 5.1 Workflow/Reproducible research 5.2 Plot/graph/visualisation 5.3 Data 5.4 Install R/RStudio", " Chapter 5 R 5.1 Workflow/Reproducible research Why do we need notebook interface(笔记本界面)? A:human–computer interaction人-机交互可以理解为人-信息交互, 如下有多种方式, 但最好的中间载体是一个笔记本界面notebook interface(文学编程literate programming), which input 文本、代码、公式、图片、数据、PDF, while output HTML, PDF, DOC, dashboard and so on. Some major human-computer interfaces as below: 1 Text-based user interface, e.g. Command-line interface -&gt; notebook interface 2 Graphical user interfaces (GUIs) VS. Sonic user interface 3 Natural language user interface 4 Tangible user interface, e.g. Touch user interface Rmd网上有很多模板可用包安装, 如“stevetemplates”, File-&gt; New File-&gt; R Markdown-&gt;From templates增加了很多新模板 R Markdown(脚本文本)比Latex好得多，生成PDF, word, html, slides R Shiny (脚本文本交互), 都可以通过github下载各种templates 名词比较混 Markdown (markup language): a “lightweight” markup language (like HTML) Markdown (R package): the predecessor of rmarkdown, converts .Rmd files into HTML R Markdown (R package): 包括两个小包 rmarkdown and knitr R Markdown (markup language): .Rmd file that is an excellent “literate programming” and “reproducible research” Knitr converts .Rmd -&gt; .md .Rnw(Sweave) -&gt; .tex .Rhtml -&gt; .html After Knitr works, then Pandoc converts md/tex/html into various formats as PDF/HTML/Word/. 5.2 Plot/graph/visualisation install.packages(“geofacet”) facet小平面, 组成”嵌入变量内容”的地理拼图. The main function in this package is facet_geo() and its use can be thought of as equivalent to ggplot2’s facet_wrap() except for the output it creates. The facet_geo() works just like ggplot2’s built-in faceting. library(geofacet) library(ggplot2) head(state_ranks) get_grid_names() %% geofacet自带多国多地图 head(aus_pop) %% Geofacet - Australian population by age group ggplot(aus_pop, aes(age_group, pop / 1e6, fill = age_group)) + geom_col() + facet_geo(~ code, grid = &quot;aus_grid1&quot;) + coord_flip() + labs( title = &quot;Australian Population Breakdown&quot;, caption = &quot;Data Source: ABS Labour Force Survey, 12 month average&quot;, y = &quot;Population [Millions]&quot;) + theme_bw() Install.packages(“Shinytableau”) Create Tableau(所有方面比Power BI好的拖动式画图软件) Dashboard Extensions With R Shiny(脚本文本交互) Install.packages(“lattice”) % focus on multivariate data, and in particular to produce “small multiple” plots 画图 和 输出图片 pdf(&quot;d:/xx.pdf&quot;) ...省略画图命令... dev.off() // now output tiff(600dpi) tiff(file = &quot;C:/test1.tiff&quot;, res = 600, width = 4800, height = 4800, compression = &quot;lzw&quot;) plot(1:22, pch = 1:22, cex = 1:3, col = 1:5) #绘图命令在中间 dev.off() 5.3 Data 输入数据 c() #Combine Values into a Vector or List M &lt;- vector(length=8) #vector函数优点是先定义长度，如8，再赋值 read.table() #读取txt文件 输出数据，需要library(foreign) write.dta(data,&quot;d:/test.dta&quot;) # 输出Stata12数据库 write.csv(desmat, file = &quot;D:/desk/UNSW/DCE/haze_desmat.csv&quot;) # csv是常用格式 rbind(a1,a2) # rows bind 堆积 cbind(a1,a2) # column 并列 读写 xls 和 xlsx 格式有几个包可以做到： xlsx / XLConnect 控制流 分支： if(condition){}/else if(condition){} /else{} 循环： for(name in expr_1){ expr_2} | while(condition){expr} | repeat { expr;break } 中止语句：break 空语句： next 矩阵 A &lt;- matrix(1:15,nrow=2,ncol=4,byrow=TRUE) #默认是按列, 此时A是int整数型 A [,1] [,2] [,3] [,4] #用[1,]和[,1]表示行列 [1,] 1 2 3 4 [2,] 5 6 7 8 cell &lt;- c(3,5,4,5,6,1,1,4,6,7) A &lt;- matrix(cell,nrow=2,ncol=4,byrow=TRUE) #此时A是numeric数据型 x&lt;-1:5; y&lt;-2*1:5 #冒号优先,故是2 4 6 8 10向量 crossprod(x,y) #求内积,结果是单值110 outer(x,y) #求外积,结果是5x5方阵 t(x) #矩阵x转置transpose A&lt;-array(1:9,dim=(c(3,3))) #arrays 阵列；数组 B&lt;-array(9:1,dim=(c(3,3))) A*B #区别一:各对应元素相乘 A%*%B #区别二:矩阵乘法 crossprod(A,B) #区别三:等价t(A)%*%B 可对矩阵某维或者若干维进行运算：apply(M,某维,FUNction)。例：A&lt;-matrix(1:6,nrow=2);apply(A,1,sum) x[-3] #显示除第3个以外的其他值 x[c(3,5)] #显示x的第3和第5个值 sort(x) #按顺序排列，显示数据 order(x) #按顺序排列，显示下标 X1 &lt;- c(21.3, 19.9, 22.4, 24.1, 25.9) X2 &lt;- c(32.1, 27.8, 30.1, 29.9, NA) #最后一个缺失值，mean(X2)就算不出来，只能mean(X2,na.rm=TRUE) is.na(X2) #显示哪一位值是缺失？ ID &lt;- rep(1:4,each=8) #rep()产生32个重复数，另有 seq(1, 9, by = 2) 类似rep() ID &lt;- rep(c(&quot;X1&quot;,&quot;X2&quot;,&quot;X3&quot;),c(3,2,1)) #重复不同次数 向量 .VS. 因子 简单讲：因子是一个点用于存储分类(categorical)数据，向量是一个有方向的范围。 在R中，如果把数字作为因子，那么在导入数据之后，需要将向量转换为因子（factor），而因子在整个计算过程中不再作为数值，而是一个”符号”而已。 因子操作： 把一个向量编码为一个因子：factor() 因子的水平（感觉像是不同的值）：levels() 各类数据的频数：table() 操作对象 是否为数值：is.numeric(X) 是否为字符：is.character(X) 类型转换： as.character(X), as.numeric(X) 改变长度： length(X)&lt;-新长度。用空值填充或去掉多的 返回对象的属性：attributes(object) 存储对象的属性：attr(object,”属性名”) 探索R对象 mode(x) #对象类型： dim(x) #对象的两维度 length(x) #对象个数 e.g. 对象d.med是list mode(d.med) length(d.med) attributes(d.med) head(d.med) dd&lt;-as.data.frame(d.med$nalternatives$alt.1) #d.med里有个数据库，提取出来放到数据库dd里面去 R三种对象类型 R没有标量 一、向量（X） assign(向量名, X); 向量名&lt;- X; X -&gt;向量名; #赋值 paste(X,Y) #字符型向量,字符串连接 complex() #复数向量 二、数据框 data frame--多个向量组成的二维数据库（类矩阵） // 数据框其实就是Stata下的数据库，矩阵要求全是数字，数据框每列可以是不同的mode data.frame() #构造数据框 as.data.frame() #转换为数据框 attach() # attach()能不用就不用，最好是哪里都不用，如果你非觉得它方便，那么我的建议还是不要用——用with() detach() #数据框加属性 Dfm$We #数据框Dfm中寻找We变量，$(dollar符号,表at访问) DataAll &lt;- list(Bird=bid.8, ID=ID, Z=Z) #list函数中只能用&quot;=&quot;,不能用&quot;&lt;-&quot; 三、列表 list--包含任何类型的对象 构造：list() attach()用法 用$ 符号访问对象不是非常的方便，如accountants$statef 如果键入命令attach(accountants)，那你就可以直接用accountants里的变量， 列表 列表的分量可以是不同的类型，使用list()函数可以创建列表： &gt; x = list(name=&quot;Fred&quot;, wife=&quot;Mary&quot;, no.children=3, child.ages=c(4,7,9)) &gt; x $name [1] &quot;Fred&quot; $wife [1] &quot;Mary&quot; $no.children [1] 3 $child.ages [1] 4 7 9 列表元素可以通过几种不同的索引进行访问： &gt; x[[1]] [1] &quot;Fred&quot; &gt; x[1][1] $name [1] &quot;Fred&quot; &gt; x[&quot;name&quot;][1] $name [1] &quot;Fred&quot; &gt; x$name [1] &quot;Fred&quot; 数据框 &gt; L3 = LETTERS[1:3] &gt; L3 [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &gt; d = data.frame(cbind(x = 1, y = 1:10), fac = sample(L3, 10, replace = TRUE)) &gt; d x y fac 1 1 1 B 2 1 2 A 3 1 3 C 4 1 4 C 5 1 5 B 6 1 6 A 7 1 7 A 8 1 8 B 9 1 9 B 10 1 10 A &gt; d$x [1] 1 1 1 1 1 1 1 1 1 1 &gt; d[[2]] [1] 1 2 3 4 5 6 7 8 9 10 &gt; d[1][1] x 1 1 2 1 3 1 4 1 5 1 6 1 7 1 8 1 9 1 10 1 5.4 Install R/RStudio 升级Rstudio Rstudio is IDE of R, needs setup of R before. Rstudio-&gt;tools-&gt;Global options-&gt;R路径 升级R, 安装所有packages install.packages(c(“apollo,” “arm,” “backports,” “BayesLCA,” “bibtex,” “bit,” “bit64,” “bitops,” “BMA,” “brio,” “caret,” “caTools,” “cli,” “colorspace,” “curl,” “data.table,” “deSolve,” “diffobj,” “digest,” “dotCall64,” “dplyr,” “e1071,” “effects,” “ellipsis,” “expm,” “fansi,” “farver,” “fastmap,” “fields,” “fs,” “geofacet,” “gert,” “git2r,” “glue,” “gmp,” “gower,” “gsynth,” “haven,” “hdrcde,” “Hmisc,” “htmltools,” “httpuv,” “ipred,” “isoband,” “jpeg,” “jsonlite,” “ks,” “later,” “latticeExtra,” “lfe,” “lme4,” “lmtest,” “lubridate,” “magick,” “magrittr,” “maps,” “maptools,” “Matrix,” “matrixStats,” “mclust,” “MCMCpack,” “memisc,” “mime,” “mnormt,” “msm,” “multicool,” “mvtnorm,” “nloptr,” “openssl,” “partitions,” “pcaPP,” “pkgload,” “pROC,” “processx,” “promises,” “proxy,” “ps,” “quantreg,” “randtoolbox,” “rappdirs,” “Rcpp,” “RcppArmadillo,” “RcppEigen,” “RCurl,” “readr,” “readstata13,” “rgl,” “rJava,” “rlang,” “rngWELL,” “robustbase,” “RODBC,” “roxygen2,” “rrcov,” “sass,” “sem,” “slam,” “sp,” “spam,” “SparseM,” “statmod,” “stringi,” “sys,” “testthat,” “tibble,” “tidyr,” “tidyverse,” “tis,” “utf8,” “vctrs,” “VGAM,” “VGAMdata,” “vroom,” “XLConnect,” “XML,” “xml2,” “zip,” “zoo”)) 安装加载搜索包 install.packages(&quot;support.CEs&quot;) #support.CEs是一个设计DCE的package，本函数还自动下载附加支持包 install.packages(&quot;包名字&quot;,lib=&quot;安装目录&quot;,repos=&quot;包所在的网址&quot;) search() #查看现在已经读取的扩展包 detach(”package:扩展包名”) #卸载某个扩展包 data() #查看当前可使用的数据对象 data(package = “扩展包名”) #查看在该扩展包中的数据对象 .libPaths() #查看library安装路径 默认情况下，help只会载入内存包中搜索，try.all.package=TRUE 可以在全包中搜索 &gt;help(bs,try.all.package=TRUE); #会显示出对应的包 Package Library splines E:\\work\\R\\library &gt;help(bs,package=&quot;splines&quot;); &gt;help.search(&quot;tree&quot;); #搜索所有包含tree的api 求助符、帮助 ?plot #函数打一个问号 , or help(plot) ??vegan #包两个问号 help.search(&quot;rnorm&quot;) # search help files, even wrong spelling args(&quot;rnorm&quot;) # get arguments参数 RSiteSearch(&quot;discrete choice experiment&quot;) #搜索网站（不是搜索本地计算机目录） 查看源代码 对于普通的函数——function，可以直接键入函数名就可以在console中看到源代码了，比如： &gt;damnN 有些类函数需要先用methods()函数看看都有什么，再一点一点的查看。 比如查看summary中的aov命令源代码： &gt;methods(summary) &gt;summary.aov 管理IO环境 object.size #检查对象使用的内存 setwd(&quot;D:/R/DCE&quot;) #设置工作文件夹 getwd() #来查看当前目录working directory dir() #查看当前目录里的文件 Console清屏： ctrl+L semi-colon (;) to put multiple statements on one line 一行多句命令 认识包 Type library()就知道已经有什么packages了 Type library(survival) 加载包,包里经常有数据 Type data()就知道有什么数据，注意:R语言对大小写敏感 PATH设置报错-待解决 &gt; Sys.getenv(&quot;PATH&quot;) Warning message: In normalizePath(path.expand(path), winslash, mustWork) : path[1]=&quot;D:/????&quot;: The filename, directory name, or volume label syntax is incorrect "],["python.html", "Chapter 6 Python 6.1 Deepnote 6.2 Network science(complex network) 6.3 Plot and visualisation", " Chapter 6 Python 6.1 Deepnote The best platform for Python/R, which is cloud-based, real time, no install requirements, with lots of packages already installed. Disadvantages: 1) Running speed is low for R, compared to my RStudio. 2) For R, packages combination is not well-supported, so the dockerhub image is required for setting up environment. 6.2 Network science(complex network) NetworKit is a growing open-source toolkit for large-scale network analysis. This moduler includes standard measures of network analysis, such as degree sequences, clustering coefficients, centrality measures, and more. 6.3 Plot and visualisation Plotly是一个开源，交互式的Python图形库(同类产品是bokeh)，有在线/离线两种模式(Jupyter Notebook )，基本功能免费，支持Python, MATLAB, R等多语言， Python绘图组合: 1. cufflinks+express+plotly; 2. bokeh+hvplot 交互式图表: ggplot(移植) -&gt; plotly(封装) -&gt; cufflinks 统计图表: matplotlib(封装) -&gt; seaborn "],["sql.html", "Chapter 7 SQL 7.1 SQL 7.2 Tableau 7.3 Power BI", " Chapter 7 SQL REDCAP is based on MySQL, still a data store and management tool 7.1 SQL SQL is used to create queries to manipulate the data stored in a database. Open Database Connectivity (ODBC) interface makes it possible for applications(Stata/R) to access data from a variety of database management systems (e.g. SQL Server). 7.2 Tableau Tableau(所有方面比Power BI好的拖动式画图软件) 7.3 Power BI Key words: interactive data visualization, Microsoft, business intelligence(BI) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
>>>>>>> 89e653b97e1817a40a07e9f5c75bae562db39050
